<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>HoTTEST Summer School 2022 Lecture Notes</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,500;1,600;1,700;1,800&family=Inria+Sans:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">
</head>

<body class="text-page">
<main>
<div id="post-toc-container" style="padding-left: 1em; padding-right: 1em;">

  <article>

<p>Note: for this week we have two solution files for the exercises. My
(Dan Licata) solutions are below. The TA Tom de Jong wrote up his own
solutions in Solutions5-tom.lagda.md. We are providing both to
illustrate slightly different ways of using Agda. Tom’s are a little
more verbose and easier for a person to read non-interactively. Mine are
a little more inlined and meant to show you roughly the minimum text you
need to get Agda to check the proofs, but are harder to read unless you
do so interactively (by putting holes around sub-expressions and getting
Agda to tell you what the types are supposed to be). When I am coding
for myself to see if something is true, I will often use this terse
style, and then clean it up more like Tom’s solution when writing it up
for other people.</p>
<pre class="Agda"><a id="807" class="Symbol">{-#</a> <a id="811" class="Keyword">OPTIONS</a> <a id="819" class="Pragma">--rewriting</a> <a id="831" class="Pragma">--without-K</a> <a id="843" class="Symbol">#-}</a>

<a id="848" class="Keyword">open</a> <a id="853" class="Keyword">import</a> <a id="860" href="new-prelude.html" class="Module">new-prelude</a>
<a id="872" class="Keyword">open</a> <a id="877" class="Keyword">import</a> <a id="884" href="Lecture5-notes.html" class="Module">Lecture5-notes</a>
<a id="899" class="Keyword">open</a> <a id="904" class="Keyword">import</a> <a id="911" href="Solutions4.html" class="Module">Solutions4</a> <a id="922" class="Keyword">using</a> <a id="928" class="Symbol">(</a><a id="929" href="Solutions4.html#2239" data-type="(p : x ≡ y) → ap f (! p) ≡ ! (ap f p)" class="Function">ap-!</a><a id="933" class="Symbol">;</a> <a id="935" href="Solutions4.html#2862" data-type="from (to base) ≡ base" class="Function">to-from-base</a><a id="947" class="Symbol">;</a> <a id="949" href="Solutions4.html#2922" data-type="ap from (ap to loop) ≡ loop" class="Function">to-from-loop</a><a id="961" class="Symbol">;</a> <a id="963" href="Solutions4.html#5005" data-type="Susp Bool → Circle2" class="Function">s2c</a><a id="966" class="Symbol">;</a> <a id="968" href="Solutions4.html#4919" data-type="Circle2 → Susp Bool" class="Function">c2s</a><a id="971" class="Symbol">;</a> <a id="973" href="Solutions4.html#5241" data-type="(X → Y) → Susp X → Susp Y" class="Function">susp-func</a><a id="982" class="Symbol">)</a>

<a id="985" class="Keyword">module</a> <a id="992" href="Solutions5-dan.html" class="Module">Solutions5-dan</a> <a id="1007" class="Keyword">where</a>
</pre>
<h1 id="point-and-2-point-circles-are-equivalent">1 point and 2 point
circles are equivalent (⋆)</h1>
<p>In lecture, we defined maps between the one point circle (S1) and the
two point circle (Circle2) and checked that the round-trip on Circle2 is
the identity.</p>
<p>Prove that the round-trip on S1 is the identity (use to-from-base and
to-from-loop from the Lecture 4 exercises), and package all of these
items up as an equivalence S1 ≃ Circle2.</p>
<pre class="Agda"><a id="to-from"></a><a id="1417" href="Solutions5-dan.html#1417" data-type="(x : S1) → from (to x) ≡ x" class="Function">to-from</a> <a id="1425" class="Symbol">:</a> <a id="1427" class="Symbol">(</a><a id="1428" href="Solutions5-dan.html#1428" class="Bound">x</a> <a id="1430" class="Symbol">:</a> <a id="1432" href="Lecture4-notes.html#745" data-type="Set" class="Postulate">S1</a><a id="1434" class="Symbol">)</a> <a id="1436" class="Symbol">→</a> <a id="1438" href="Lecture5-notes.html#6720" data-type="Circle2 → S1" class="Function">from</a> <a id="1443" class="Symbol">(</a><a id="1444" href="Lecture5-notes.html#6661" data-type="S1 → Circle2" class="Function">to</a> <a id="1447" href="Solutions5-dan.html#1428" class="Bound">x</a><a id="1448" class="Symbol">)</a> <a id="1450" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="1452" href="Solutions5-dan.html#1428" class="Bound">x</a>
<a id="1454" href="Solutions5-dan.html#1417" data-type="(x : S1) → from (to x) ≡ x" class="Function">to-from</a> <a id="1462" class="Symbol">=</a> <a id="1464" href="Lecture5-notes.html#8624" data-type="(X : S1 → Set) (x : X base) →
PathOver X loop x x → (x₁ : S1) → X x₁" class="Postulate">S1-elim</a> <a id="1472" class="Symbol">_</a>
                  <a id="1492" href="Solutions4.html#2862" data-type="from (to base) ≡ base" class="Function">to-from-base</a>
                  <a id="1523" class="Symbol">(</a><a id="1524" href="Lecture5-notes.html#7675" data-type="(g : B → A) (f : A → B) (p : a ≡ a&#39;) →
(! q ∙ (ap g (ap f p) ∙ r)) ≡ p →
PathOver (λ x → g (f x) ≡ x) p q r" class="Function">PathOver-roundtrip≡</a> <a id="1544" href="Lecture5-notes.html#6720" data-type="Circle2 → S1" class="Function">from</a> <a id="1549" href="Lecture5-notes.html#6661" data-type="S1 → Circle2" class="Function">to</a> <a id="1552" href="Lecture4-notes.html#769" data-type="base ≡ base" class="Postulate">loop</a> <a id="1557" class="Symbol">(</a><a id="1558" href="Lecture4-notes.html#2745" data-type="(p : x ≡ y) → (refl x ∙ p) ≡ p" class="Function">∙unit-l</a> <a id="1566" class="Symbol">_</a> <a id="1568" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="1570" href="Solutions4.html#2922" data-type="ap from (ap to loop) ≡ loop" class="Function">to-from-loop</a><a id="1582" class="Symbol">))</a>

<a id="circles-equivalent"></a><a id="1586" href="Solutions5-dan.html#1586" data-type="S1 ≃ Circle2" class="Function">circles-equivalent</a> <a id="1605" class="Symbol">:</a> <a id="1607" href="Lecture4-notes.html#745" data-type="Set" class="Postulate">S1</a> <a id="1610" href="Lecture5-notes.html#968" data-type="(A : Set l1) (B : Set l2) → Set (l1 ⊔ l2)" class="Record Operator">≃</a> <a id="1612" href="Lecture4-notes.html#7873" data-type="Set" class="Postulate">Circle2</a>
<a id="1620" href="Solutions5-dan.html#1586" data-type="S1 ≃ Circle2" class="Function">circles-equivalent</a> <a id="1639" class="Symbol">=</a> <a id="1641" href="Lecture5-notes.html#1565" data-type="A ≅ B → A ≃ B" class="Function">improve</a> <a id="1649" class="Symbol">(</a><a id="1650" href="new-prelude.html#2950" data-type="(bijection : A → B) (bijectivity : is-bijection bijection) → A ≅ B" class="InductiveConstructor">Isomorphism</a> <a id="1662" href="Lecture5-notes.html#6661" data-type="S1 → Circle2" class="Function">to</a> <a id="1665" class="Symbol">(</a><a id="1666" href="new-prelude.html#2765" data-type="(inverse : B → A) (η : (inverse ∘ f) ∼ id)
(ε : (f ∘ inverse) ∼ id) →
is-bijection f" class="InductiveConstructor">Inverse</a> <a id="1674" href="Lecture5-notes.html#6720" data-type="Circle2 → S1" class="Function">from</a> <a id="1679" href="Solutions5-dan.html#1417" data-type="(x : S1) → from (to x) ≡ x" class="Function">to-from</a> <a id="1687" href="Lecture5-notes.html#8252" data-type="(y : Circle2) → to (from y) ≡ y" class="Function">from-to</a><a id="1694" class="Symbol">))</a>
</pre>
<h1 id="reversing-the-circle">Reversing the circle (⋆⋆)</h1>
<p>Define a map S1 → S1 that “reverses the orientation of the circle”,
i.e. sends loop to ! loop.</p>
<pre class="Agda"><a id="rev"></a><a id="1836" href="Solutions5-dan.html#1836" data-type="S1 → S1" class="Function">rev</a> <a id="1840" class="Symbol">:</a> <a id="1842" href="Lecture4-notes.html#745" data-type="Set" class="Postulate">S1</a> <a id="1845" class="Symbol">→</a> <a id="1847" href="Lecture4-notes.html#745" data-type="Set" class="Postulate">S1</a>
<a id="1850" href="Solutions5-dan.html#1836" data-type="S1 → S1" class="Function">rev</a> <a id="1854" class="Symbol">=</a> <a id="1856" href="Lecture4-notes.html#5544" data-type="(x : X) → x ≡ x → S1 → X" class="Postulate">S1-rec</a> <a id="1863" href="Lecture4-notes.html#757" data-type="S1" class="Postulate">base</a> <a id="1868" class="Symbol">(</a><a id="1869" href="new-prelude.html#861" data-type="x ≡ y → y ≡ x" class="Function">!</a> <a id="1871" href="Lecture4-notes.html#769" data-type="base ≡ base" class="Postulate">loop</a><a id="1875" class="Symbol">)</a>
</pre>
Prove that rev is an equivalence. Hint: you will need to state and prove
one new generalized “path algebra” lemma and to use one of the lemmas
from the “Functions are group homomorphism” section of Lecture 4’s
exercises.<br />
<pre class="Agda"><a id="!-invol"></a><a id="2110" href="Solutions5-dan.html#2110" data-type="(p : x ≡ y) → ! (! p) ≡ p" class="Function">!-invol</a> <a id="2118" class="Symbol">:</a> <a id="2120" class="Symbol">{</a><a id="2121" href="Solutions5-dan.html#2121" class="Bound">l</a> <a id="2123" class="Symbol">:</a> <a id="2125" href="Agda.Primitive.html#597" data-type="Set" class="Postulate">Level</a><a id="2130" class="Symbol">}</a> <a id="2132" class="Symbol">{</a><a id="2133" href="Solutions5-dan.html#2133" class="Bound">A</a> <a id="2135" class="Symbol">:</a> <a id="2137" href="Agda.Primitive.html#326" data-type="Set₁" class="Primitive">Type</a> <a id="2142" href="Solutions5-dan.html#2121" class="Bound">l</a><a id="2143" class="Symbol">}</a> <a id="2145" class="Symbol">{</a><a id="2146" href="Solutions5-dan.html#2146" class="Bound">x</a> <a id="2148" href="Solutions5-dan.html#2148" class="Bound">y</a> <a id="2150" class="Symbol">:</a> <a id="2152" href="Solutions5-dan.html#2133" class="Bound">A</a><a id="2153" class="Symbol">}</a> <a id="2155" class="Symbol">→</a> <a id="2157" class="Symbol">(</a><a id="2158" href="Solutions5-dan.html#2158" class="Bound">p</a> <a id="2160" class="Symbol">:</a> <a id="2162" href="Solutions5-dan.html#2146" class="Bound">x</a> <a id="2164" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="2166" href="Solutions5-dan.html#2148" class="Bound">y</a><a id="2167" class="Symbol">)</a> <a id="2169" class="Symbol">→</a> <a id="2171" class="Symbol">(</a><a id="2172" href="new-prelude.html#861" data-type="x ≡ y → y ≡ x" class="Function">!</a> <a id="2174" class="Symbol">(</a><a id="2175" href="new-prelude.html#861" data-type="x ≡ y → y ≡ x" class="Function">!</a> <a id="2177" href="Solutions5-dan.html#2158" class="Bound">p</a><a id="2178" class="Symbol">))</a> <a id="2181" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="2183" href="Solutions5-dan.html#2158" class="Bound">p</a>
<a id="2185" href="Solutions5-dan.html#2110" data-type="(p : x ≡ y) → ! (! p) ≡ p" class="Function">!-invol</a> <a id="2193" class="Symbol">(</a><a id="2194" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="2199" class="Symbol">_)</a> <a id="2202" class="Symbol">=</a> <a id="2204" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="2209" class="Symbol">_</a>

<a id="rev-equiv"></a><a id="2212" href="Solutions5-dan.html#2212" data-type="is-equiv rev" class="Function">rev-equiv</a> <a id="2222" class="Symbol">:</a> <a id="2224" href="Lecture5-notes.html#699" data-type="(f : A → B) → Set (l1 ⊔ l2)" class="Record">is-equiv</a> <a id="2233" href="Solutions5-dan.html#1836" data-type="S1 → S1" class="Function">rev</a>
<a id="2237" href="Solutions5-dan.html#2212" data-type="is-equiv rev" class="Function">rev-equiv</a> <a id="2247" class="Symbol">=</a> <a id="2249" href="Lecture5-notes.html#801" data-type="(post-inverse : B → A) (is-post-inverse : (post-inverse ∘ f) ∼ id)
(pre-inverse : B → A) (is-pre-inverse : (f ∘ pre-inverse) ∼ id) →
is-equiv f" class="InductiveConstructor">Inverse</a> <a id="2257" href="Solutions5-dan.html#1836" data-type="S1 → S1" class="Function">rev</a> <a id="2261" href="Solutions5-dan.html#2285" data-type="(rev ∘ rev) ∼ id" class="Function">invol</a> <a id="2267" href="Solutions5-dan.html#1836" data-type="S1 → S1" class="Function">rev</a> <a id="2271" href="Solutions5-dan.html#2285" data-type="(rev ∘ rev) ∼ id" class="Function">invol</a> <a id="2277" class="Keyword">where</a>
  <a id="2285" href="Solutions5-dan.html#2285" data-type="(rev ∘ rev) ∼ id" class="Function">invol</a> <a id="2291" class="Symbol">:</a> <a id="2293" href="Solutions5-dan.html#1836" data-type="S1 → S1" class="Function">rev</a> <a id="2297" href="new-prelude.html#2059" data-type="((y : B) → C y) → (f : A → B) (x : A) → C (f x)" class="Function Operator">∘</a> <a id="2299" href="Solutions5-dan.html#1836" data-type="S1 → S1" class="Function">rev</a> <a id="2303" href="new-prelude.html#1372" data-type="((x : A) → B x) → ((x : A) → B x) → Set (l1 ⊔ l2)" class="Function Operator">∼</a> <a id="2305" href="new-prelude.html#2011" data-type="A → A" class="Function">id</a>
  <a id="2310" href="Solutions5-dan.html#2285" data-type="(rev ∘ rev) ∼ id" class="Function">invol</a> <a id="2316" class="Symbol">=</a> <a id="2318" href="Lecture5-notes.html#8624" data-type="(X : S1 → Set) (x : X base) →
PathOver X loop x x → (x₁ : S1) → X x₁" class="Postulate">S1-elim</a> <a id="2326" class="Symbol">_</a>
                  <a id="2346" class="Symbol">(</a><a id="2347" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="2352" class="Symbol">_)</a>
                  <a id="2373" class="Symbol">(</a><a id="2374" href="Lecture5-notes.html#7675" data-type="(g : B → A) (f : A → B) (p : a ≡ a&#39;) →
(! q ∙ (ap g (ap f p) ∙ r)) ≡ p →
PathOver (λ x → g (f x) ≡ x) p q r" class="Function">PathOver-roundtrip≡</a> <a id="2394" href="Solutions5-dan.html#1836" data-type="S1 → S1" class="Function">rev</a> <a id="2398" href="Solutions5-dan.html#1836" data-type="S1 → S1" class="Function">rev</a> <a id="2402" class="Symbol">_</a>
                    <a id="2424" class="Symbol">(</a><a id="2425" href="Lecture4-notes.html#2745" data-type="(p : x ≡ y) → (refl x ∙ p) ≡ p" class="Function">∙unit-l</a> <a id="2433" class="Symbol">_</a> <a id="2435" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a>
                     <a id="2458" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="2461" class="Symbol">(</a><a id="2462" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="2465" href="Solutions5-dan.html#1836" data-type="S1 → S1" class="Function">rev</a><a id="2468" class="Symbol">)</a> <a id="2470" class="Symbol">(</a><a id="2471" href="Lecture4-notes.html#6311" data-type="(x : X) (p : x ≡ x) → ap (S1-rec x p) loop ≡ p" class="Postulate">S1-rec-loop</a> <a id="2483" class="Symbol">_</a> <a id="2485" class="Symbol">_)</a> <a id="2488" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a>
                     <a id="2511" href="Solutions4.html#2239" data-type="(p : x ≡ y) → ap f (! p) ≡ ! (ap f p)" class="Function">ap-!</a> <a id="2516" href="Lecture4-notes.html#769" data-type="base ≡ base" class="Postulate">loop</a> <a id="2521" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a>
                     <a id="2544" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="2547" href="new-prelude.html#861" data-type="x ≡ y → y ≡ x" class="Function">!</a> <a id="2549" class="Symbol">(</a><a id="2550" href="Lecture4-notes.html#6311" data-type="(x : X) (p : x ≡ x) → ap (S1-rec x p) loop ≡ p" class="Postulate">S1-rec-loop</a> <a id="2562" class="Symbol">_</a> <a id="2564" class="Symbol">_)</a> <a id="2567" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a>
                     <a id="2590" href="Solutions5-dan.html#2110" data-type="(p : x ≡ y) → ! (! p) ≡ p" class="Function">!-invol</a> <a id="2598" href="Lecture4-notes.html#769" data-type="base ≡ base" class="Postulate">loop</a><a id="2602" class="Symbol">))</a>
</pre>
<h1 id="circles-to-torus">Circles to torus (⋆⋆)</h1>
<p>In the Lecture 4 exercises, you defined a map from the Torus to S1 ×
S1. In this problem, you will define a converse map. The goal is for
these two maps to be part of an equivalence, but we won’t prove that in
these exercises.</p>
<p>You will need to state and prove a lemma characterizing a path over a
path in a path fibration. Then, to define the map S1 × S1 → Torus, you
will want to curry it and use S1-rec and/or S1-elim on each circle.</p>
<pre class="Agda"><a id="PathOver-path≡"></a><a id="3088" href="Solutions5-dan.html#3088" data-type="(q ∙ ap g p) ≡ (ap f p ∙ r) → PathOver (λ x → f x ≡ g x) p q r" class="Function">PathOver-path≡</a> <a id="3103" class="Symbol">:</a> <a id="3105" class="Symbol">∀</a> <a id="3107" class="Symbol">{</a><a id="3108" href="Solutions5-dan.html#3108" class="Bound">A</a> <a id="3110" href="Solutions5-dan.html#3110" class="Bound">B</a> <a id="3112" class="Symbol">:</a> <a id="3114" href="Agda.Primitive.html#326" data-type="Set₁" class="Primitive">Type</a><a id="3118" class="Symbol">}</a> <a id="3120" class="Symbol">{</a><a id="3121" href="Solutions5-dan.html#3121" class="Bound">g</a> <a id="3123" class="Symbol">:</a> <a id="3125" href="Solutions5-dan.html#3108" class="Bound">A</a> <a id="3127" class="Symbol">→</a> <a id="3129" href="Solutions5-dan.html#3110" class="Bound">B</a><a id="3130" class="Symbol">}</a> <a id="3132" class="Symbol">{</a><a id="3133" href="Solutions5-dan.html#3133" class="Bound">f</a> <a id="3135" class="Symbol">:</a> <a id="3137" href="Solutions5-dan.html#3108" class="Bound">A</a> <a id="3139" class="Symbol">→</a> <a id="3141" href="Solutions5-dan.html#3110" class="Bound">B</a><a id="3142" class="Symbol">}</a>
                          <a id="3170" class="Symbol">{</a><a id="3171" href="Solutions5-dan.html#3171" class="Bound">a</a> <a id="3173" href="Solutions5-dan.html#3173" class="Bound">a&#39;</a> <a id="3176" class="Symbol">:</a> <a id="3178" href="Solutions5-dan.html#3108" class="Bound">A</a><a id="3179" class="Symbol">}</a> <a id="3181" class="Symbol">{</a><a id="3182" href="Solutions5-dan.html#3182" class="Bound">p</a> <a id="3184" class="Symbol">:</a> <a id="3186" href="Solutions5-dan.html#3171" class="Bound">a</a> <a id="3188" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="3190" href="Solutions5-dan.html#3173" class="Bound">a&#39;</a><a id="3192" class="Symbol">}</a>
                          <a id="3220" class="Symbol">{</a><a id="3221" href="Solutions5-dan.html#3221" class="Bound">q</a> <a id="3223" class="Symbol">:</a> <a id="3225" class="Symbol">(</a><a id="3226" href="Solutions5-dan.html#3133" class="Bound">f</a> <a id="3228" href="Solutions5-dan.html#3171" class="Bound">a</a><a id="3229" class="Symbol">)</a> <a id="3231" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="3233" class="Symbol">(</a><a id="3234" href="Solutions5-dan.html#3121" class="Bound">g</a> <a id="3236" href="Solutions5-dan.html#3171" class="Bound">a</a><a id="3237" class="Symbol">)}</a>
                          <a id="3266" class="Symbol">{</a><a id="3267" href="Solutions5-dan.html#3267" class="Bound">r</a> <a id="3269" class="Symbol">:</a> <a id="3271" class="Symbol">(</a><a id="3272" href="Solutions5-dan.html#3133" class="Bound">f</a> <a id="3274" href="Solutions5-dan.html#3173" class="Bound">a&#39;</a><a id="3276" class="Symbol">)</a> <a id="3278" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="3280" class="Symbol">(</a><a id="3281" href="Solutions5-dan.html#3121" class="Bound">g</a> <a id="3283" href="Solutions5-dan.html#3173" class="Bound">a&#39;</a><a id="3285" class="Symbol">)}</a>
                        <a id="3312" class="Symbol">→</a> <a id="3314" href="Solutions5-dan.html#3221" class="Bound">q</a> <a id="3316" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="3318" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="3321" href="Solutions5-dan.html#3121" class="Bound">g</a> <a id="3323" href="Solutions5-dan.html#3182" class="Bound">p</a> <a id="3325" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="3327" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="3330" href="Solutions5-dan.html#3133" class="Bound">f</a> <a id="3332" href="Solutions5-dan.html#3182" class="Bound">p</a> <a id="3334" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="3336" href="Solutions5-dan.html#3267" class="Bound">r</a>
                        <a id="3362" class="Symbol">→</a> <a id="3364" href="Solutions5-dan.html#3221" class="Bound">q</a> <a id="3366" href="Lecture5-notes.html#3169" data-type="(B : A → Set l2) → a1 ≡ a2 → B a1 → B a2 → Set (l1 ⊔ l2)" class="Datatype">≡</a> <a id="3368" href="Solutions5-dan.html#3267" class="Bound">r</a> <a id="3370" href="Lecture5-notes.html#3169" data-type="(B : A → Set l2) → a1 ≡ a2 → B a1 → B a2 → Set (l1 ⊔ l2)" class="Datatype">[</a> <a id="3372" class="Symbol">(\</a> <a id="3375" href="Solutions5-dan.html#3375" class="Bound">x</a> <a id="3377" class="Symbol">→</a> <a id="3379" class="Symbol">(</a><a id="3380" href="Solutions5-dan.html#3133" class="Bound">f</a> <a id="3382" href="Solutions5-dan.html#3375" class="Bound">x</a><a id="3383" class="Symbol">)</a> <a id="3385" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="3387" class="Symbol">(</a><a id="3388" href="Solutions5-dan.html#3121" class="Bound">g</a> <a id="3390" href="Solutions5-dan.html#3375" class="Bound">x</a><a id="3391" class="Symbol">))</a> <a id="3394" href="Lecture5-notes.html#3169" data-type="(B : A → Set l2) → a1 ≡ a2 → B a1 → B a2 → Set (l1 ⊔ l2)" class="Datatype">↓</a> <a id="3396" href="Solutions5-dan.html#3182" class="Bound">p</a> <a id="3398" href="Lecture5-notes.html#3169" data-type="(B : A → Set l2) → a1 ≡ a2 → B a1 → B a2 → Set (l1 ⊔ l2)" class="Datatype">]</a>
<a id="3400" href="Solutions5-dan.html#3088" data-type="(q ∙ ap g p) ≡ (ap f p ∙ r) → PathOver (λ x → f x ≡ g x) p q r" class="Function">PathOver-path≡</a> <a id="3415" class="Symbol">{</a><a id="3416" class="Argument">p</a> <a id="3418" class="Symbol">=</a> <a id="3420" class="Symbol">(</a><a id="3421" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="3426" class="Symbol">_)}</a> <a id="3430" href="Solutions5-dan.html#3430" class="Bound">h</a> <a id="3432" class="Symbol">=</a> <a id="3434" href="Lecture5-notes.html#4578" data-type="x ≡ y → PathOver B (refl a) x y" class="Function">path-to-pathover</a> <a id="3451" class="Symbol">(</a><a id="3452" href="Solutions5-dan.html#3430" class="Bound">h</a> <a id="3454" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="3456" href="Lecture4-notes.html#2745" data-type="(p : x ≡ y) → (refl x ∙ p) ≡ p" class="Function">∙unit-l</a> <a id="3464" class="Symbol">_)</a>

<a id="circles-to-torus"></a><a id="3468" href="Solutions5-dan.html#3468" data-type="S1 → S1 → Torus" class="Function">circles-to-torus</a> <a id="3485" class="Symbol">:</a> <a id="3487" href="Lecture4-notes.html#745" data-type="Set" class="Postulate">S1</a> <a id="3490" class="Symbol">→</a> <a id="3492" class="Symbol">(</a><a id="3493" href="Lecture4-notes.html#745" data-type="Set" class="Postulate">S1</a> <a id="3496" class="Symbol">→</a> <a id="3498" href="Lecture4-notes.html#10700" data-type="Set" class="Postulate">Torus</a><a id="3503" class="Symbol">)</a>
<a id="3505" href="Solutions5-dan.html#3468" data-type="S1 → S1 → Torus" class="Function">circles-to-torus</a> <a id="3522" class="Symbol">=</a> <a id="3524" href="Lecture4-notes.html#5544" data-type="(x : X) → x ≡ x → S1 → X" class="Postulate">S1-rec</a> <a id="3531" class="Symbol">(</a><a id="3532" href="Lecture4-notes.html#5544" data-type="(x : X) → x ≡ x → S1 → X" class="Postulate">S1-rec</a> <a id="3539" href="Lecture4-notes.html#10715" data-type="Torus" class="Postulate">baseT</a> <a id="3545" href="Lecture4-notes.html#10752" data-type="baseT ≡ baseT" class="Postulate">qT</a><a id="3547" class="Symbol">)</a>
                          <a id="3575" class="Symbol">(</a><a id="3576" href="new-prelude.html#2559" data-type="f ∼ g → f ≡ g" class="Postulate">λ≡</a> <a id="3579" class="Symbol">(</a><a id="3580" href="Lecture5-notes.html#8624" data-type="(X : S1 → Set) (x : X base) →
PathOver X loop x x → (x₁ : S1) → X x₁" class="Postulate">S1-elim</a> <a id="3588" class="Symbol">_</a>
                                       <a id="3629" href="Lecture4-notes.html#10731" data-type="baseT ≡ baseT" class="Postulate">pT</a>
                                       <a id="3671" class="Symbol">(</a><a id="3672" href="Solutions5-dan.html#3088" data-type="(q ∙ ap g p) ≡ (ap f p ∙ r) → PathOver (λ x → f x ≡ g x) p q r" class="Function">PathOver-path≡</a> <a id="3687" class="Symbol">(</a><a id="3688" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="3691" class="Symbol">(\</a> <a id="3694" href="Solutions5-dan.html#3694" class="Bound">H</a> <a id="3696" class="Symbol">→</a> <a id="3698" href="Lecture4-notes.html#10731" data-type="baseT ≡ baseT" class="Postulate">pT</a> <a id="3701" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="3703" href="Solutions5-dan.html#3694" class="Bound">H</a><a id="3704" class="Symbol">)</a> <a id="3706" class="Symbol">(</a><a id="3707" href="Lecture4-notes.html#6311" data-type="(x : X) (p : x ≡ x) → ap (S1-rec x p) loop ≡ p" class="Postulate">S1-rec-loop</a> <a id="3719" class="Symbol">_</a> <a id="3721" class="Symbol">_)</a> <a id="3724" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a>
                                                        <a id="3782" href="Lecture4-notes.html#10773" data-type="(pT ∙ qT) ≡ (qT ∙ pT)" class="Postulate">sT</a> <a id="3785" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a>
                                                        <a id="3843" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="3846" class="Symbol">(\</a> <a id="3849" href="Solutions5-dan.html#3849" class="Bound">H</a> <a id="3851" class="Symbol">→</a> <a id="3853" href="Solutions5-dan.html#3849" class="Bound">H</a> <a id="3855" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="3857" href="Lecture4-notes.html#10731" data-type="baseT ≡ baseT" class="Postulate">pT</a><a id="3859" class="Symbol">)</a> <a id="3861" class="Symbol">(</a><a id="3862" href="new-prelude.html#861" data-type="x ≡ y → y ≡ x" class="Function">!</a> <a id="3864" class="Symbol">(</a><a id="3865" href="Lecture4-notes.html#6311" data-type="(x : X) (p : x ≡ x) → ap (S1-rec x p) loop ≡ p" class="Postulate">S1-rec-loop</a> <a id="3877" class="Symbol">_</a> <a id="3879" class="Symbol">_))))))</a>

<a id="circles-to-torus&#39;"></a><a id="3888" href="Solutions5-dan.html#3888" data-type="S1 × S1 → Torus" class="Function">circles-to-torus&#39;</a> <a id="3906" class="Symbol">:</a> <a id="3908" href="Lecture4-notes.html#745" data-type="Set" class="Postulate">S1</a> <a id="3911" href="new-prelude.html#2217" data-type="Set l1 → Set l2 → Set (l1 ⊔ l2)" class="Function Operator">×</a> <a id="3913" href="Lecture4-notes.html#745" data-type="Set" class="Postulate">S1</a> <a id="3916" class="Symbol">→</a> <a id="3918" href="Lecture4-notes.html#10700" data-type="Set" class="Postulate">Torus</a>
<a id="3924" href="Solutions5-dan.html#3888" data-type="S1 × S1 → Torus" class="Function">circles-to-torus&#39;</a> <a id="3942" class="Symbol">(</a><a id="3943" href="Solutions5-dan.html#3943" class="Bound">x</a> <a id="3945" href="new-prelude.html#1801" data-type="(pr₁ : A) (pr₂ : B pr₁) → Σ B" class="InductiveConstructor Operator">,</a> <a id="3947" href="Solutions5-dan.html#3947" class="Bound">y</a><a id="3948" class="Symbol">)</a> <a id="3950" class="Symbol">=</a> <a id="3952" href="Solutions5-dan.html#3468" data-type="S1 → S1 → Torus" class="Function">circles-to-torus</a> <a id="3969" href="Solutions5-dan.html#3943" class="Bound">x</a> <a id="3971" href="Solutions5-dan.html#3947" class="Bound">y</a>
</pre>
<p><strong>Below are some “extra credit” exercises if you want more to
do. These are (even more) optional: nothing in the next lecture will
depend on you understanding them. The next section (H space) is harder
code but uses only the circle, whereas the following sections are a bit
easier code but require understanding the suspension type, which we
haven’t talked about too much yet.</strong></p>
<h1 id="h-space">H space</h1>
<p>The multiplication operation on the circle discussed in lecture is
part of what is called an “H space” structure on the circle. One part of
this structure is that the circle’s basepoint is a unit element for
multiplication.</p>
(⋆) Show that base is a left unit.
<pre class="Agda"><a id="mult-unit-l"></a><a id="4641" href="Solutions5-dan.html#4641" data-type="(y : S1) → mult base y ≡ y" class="Function">mult-unit-l</a> <a id="4653" class="Symbol">:</a> <a id="4655" class="Symbol">(</a><a id="4656" href="Solutions5-dan.html#4656" class="Bound">y</a> <a id="4658" class="Symbol">:</a> <a id="4660" href="Lecture4-notes.html#745" data-type="Set" class="Postulate">S1</a><a id="4662" class="Symbol">)</a> <a id="4664" class="Symbol">→</a> <a id="4666" href="Lecture5-notes.html#9766" data-type="S1 → S1 → S1" class="Function">mult</a> <a id="4671" href="Lecture4-notes.html#757" data-type="S1" class="Postulate">base</a> <a id="4676" href="Solutions5-dan.html#4656" class="Bound">y</a> <a id="4678" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="4680" href="Solutions5-dan.html#4656" class="Bound">y</a>
<a id="4682" href="Solutions5-dan.html#4641" data-type="(y : S1) → mult base y ≡ y" class="Function">mult-unit-l</a> <a id="4694" href="Solutions5-dan.html#4694" class="Bound">y</a> <a id="4696" class="Symbol">=</a> <a id="4698" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="4703" class="Symbol">_</a>
</pre>
(⋆) Because we’ll need it in a second, show that ap distributes over
function composition:
<pre class="Agda"><a id="ap-∘"></a><a id="4809" href="Solutions5-dan.html#4809" data-type="(f : A → B) (g : B → C) (p : a ≡ a&#39;) → ap (g ∘ f) p ≡ ap g (ap f p)" class="Function">ap-∘</a> <a id="4814" class="Symbol">:</a> <a id="4816" class="Symbol">∀</a> <a id="4818" class="Symbol">{</a><a id="4819" href="Solutions5-dan.html#4819" class="Bound">l1</a> <a id="4822" href="Solutions5-dan.html#4822" class="Bound">l2</a> <a id="4825" href="Solutions5-dan.html#4825" class="Bound">l3</a> <a id="4828" class="Symbol">:</a> <a id="4830" href="Agda.Primitive.html#597" data-type="Set" class="Postulate">Level</a><a id="4835" class="Symbol">}</a> <a id="4837" class="Symbol">{</a><a id="4838" href="Solutions5-dan.html#4838" class="Bound">A</a> <a id="4840" class="Symbol">:</a> <a id="4842" href="Agda.Primitive.html#326" data-type="Set₁" class="Primitive">Type</a> <a id="4847" href="Solutions5-dan.html#4819" class="Bound">l1</a><a id="4849" class="Symbol">}</a> <a id="4851" class="Symbol">{</a><a id="4852" href="Solutions5-dan.html#4852" class="Bound">B</a> <a id="4854" class="Symbol">:</a> <a id="4856" href="Agda.Primitive.html#326" data-type="Set₁" class="Primitive">Type</a> <a id="4861" href="Solutions5-dan.html#4822" class="Bound">l2</a><a id="4863" class="Symbol">}</a> <a id="4865" class="Symbol">{</a><a id="4866" href="Solutions5-dan.html#4866" class="Bound">C</a> <a id="4868" class="Symbol">:</a> <a id="4870" href="Agda.Primitive.html#326" data-type="Set₁" class="Primitive">Type</a> <a id="4875" href="Solutions5-dan.html#4825" class="Bound">l3</a><a id="4877" class="Symbol">}</a>
       <a id="4886" class="Symbol">(</a><a id="4887" href="Solutions5-dan.html#4887" class="Bound">f</a> <a id="4889" class="Symbol">:</a> <a id="4891" href="Solutions5-dan.html#4838" class="Bound">A</a> <a id="4893" class="Symbol">→</a> <a id="4895" href="Solutions5-dan.html#4852" class="Bound">B</a><a id="4896" class="Symbol">)</a> <a id="4898" class="Symbol">(</a><a id="4899" href="Solutions5-dan.html#4899" class="Bound">g</a> <a id="4901" class="Symbol">:</a> <a id="4903" href="Solutions5-dan.html#4852" class="Bound">B</a> <a id="4905" class="Symbol">→</a> <a id="4907" href="Solutions5-dan.html#4866" class="Bound">C</a><a id="4908" class="Symbol">)</a>
       <a id="4917" class="Symbol">{</a><a id="4918" href="Solutions5-dan.html#4918" class="Bound">a</a> <a id="4920" href="Solutions5-dan.html#4920" class="Bound">a&#39;</a> <a id="4923" class="Symbol">:</a> <a id="4925" href="Solutions5-dan.html#4838" class="Bound">A</a><a id="4926" class="Symbol">}</a>
       <a id="4935" class="Symbol">(</a><a id="4936" href="Solutions5-dan.html#4936" class="Bound">p</a> <a id="4938" class="Symbol">:</a> <a id="4940" href="Solutions5-dan.html#4918" class="Bound">a</a> <a id="4942" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="4944" href="Solutions5-dan.html#4920" class="Bound">a&#39;</a><a id="4946" class="Symbol">)</a>
     <a id="4953" class="Symbol">→</a> <a id="4955" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="4958" class="Symbol">(</a><a id="4959" href="Solutions5-dan.html#4899" class="Bound">g</a> <a id="4961" href="new-prelude.html#2059" data-type="((y : B) → C y) → (f : A → B) (x : A) → C (f x)" class="Function Operator">∘</a> <a id="4963" href="Solutions5-dan.html#4887" class="Bound">f</a><a id="4964" class="Symbol">)</a> <a id="4966" href="Solutions5-dan.html#4936" class="Bound">p</a> <a id="4968" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="4970" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="4973" href="Solutions5-dan.html#4899" class="Bound">g</a> <a id="4975" class="Symbol">(</a><a id="4976" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="4979" href="Solutions5-dan.html#4887" class="Bound">f</a> <a id="4981" href="Solutions5-dan.html#4936" class="Bound">p</a><a id="4982" class="Symbol">)</a>
<a id="4984" href="Solutions5-dan.html#4809" data-type="(f : A → B) (g : B → C) (p : a ≡ a&#39;) → ap (g ∘ f) p ≡ ap g (ap f p)" class="Function">ap-∘</a> <a id="4989" class="Symbol">_</a> <a id="4991" class="Symbol">_</a> <a id="4993" class="Symbol">(</a><a id="4994" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="4999" class="Symbol">_)</a> <a id="5002" class="Symbol">=</a> <a id="5004" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="5009" class="Symbol">_</a>
</pre>
<p>(⋆⋆) Suppose we have a curried function f : S1 → A → B. Under the
equivalence between paths in S1 × A and pairs of paths discussed in
Lecture 3, we can then “apply” (the uncurried version of) f to a pair of
paths (p : x ≡ y [ S1 ] , q : z ≡ w [ A ]) to get a path (f x z ≡ f y w
[ B ]). In the special case where q is reflexivity on a, this
application to p and q can be simplified to ap ( x → f x a) p : f x a ≡
f y a [ B ].</p>
Now, suppose that f is defined by circle recursion. We would expect some
kind of reduction for applying f to the pair of paths (loop , q) —
i.e. we should have reductions for <em>nested</em> pattern matching on
HITs. In the case where q is reflexivity, applying f to the pair (loop ,
refl) can reduce like this:
<pre class="Agda"><a id="S1-rec-loop-1"></a><a id="5762" href="Solutions5-dan.html#5762" data-type="ap (λ x → S1-rec f h x a) loop ≡ app≡ h a" class="Function">S1-rec-loop-1</a> <a id="5776" class="Symbol">:</a> <a id="5778" class="Symbol">∀</a> <a id="5780" class="Symbol">{</a><a id="5781" href="Solutions5-dan.html#5781" class="Bound">A</a> <a id="5783" href="Solutions5-dan.html#5783" class="Bound">B</a> <a id="5785" class="Symbol">:</a> <a id="5787" href="Agda.Primitive.html#326" data-type="Set₁" class="Primitive">Type</a><a id="5791" class="Symbol">}</a> <a id="5793" class="Symbol">{</a><a id="5794" href="Solutions5-dan.html#5794" class="Bound">f</a> <a id="5796" class="Symbol">:</a> <a id="5798" href="Solutions5-dan.html#5781" class="Bound">A</a> <a id="5800" class="Symbol">→</a> <a id="5802" href="Solutions5-dan.html#5783" class="Bound">B</a><a id="5803" class="Symbol">}</a> <a id="5805" class="Symbol">{</a><a id="5806" href="Solutions5-dan.html#5806" class="Bound">h</a> <a id="5808" class="Symbol">:</a> <a id="5810" href="Solutions5-dan.html#5794" class="Bound">f</a> <a id="5812" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="5814" href="Solutions5-dan.html#5794" class="Bound">f</a><a id="5815" class="Symbol">}</a> <a id="5817" class="Symbol">{</a><a id="5818" href="Solutions5-dan.html#5818" class="Bound">a</a> <a id="5820" class="Symbol">:</a> <a id="5822" href="Solutions5-dan.html#5781" class="Bound">A</a><a id="5823" class="Symbol">}</a>
                     <a id="5846" class="Symbol">→</a>  <a id="5849" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="5852" class="Symbol">(\</a> <a id="5855" href="Solutions5-dan.html#5855" class="Bound">x</a> <a id="5857" class="Symbol">→</a> <a id="5859" href="Lecture4-notes.html#5544" data-type="(x : X) → x ≡ x → S1 → X" class="Postulate">S1-rec</a> <a id="5866" href="Solutions5-dan.html#5794" class="Bound">f</a> <a id="5868" href="Solutions5-dan.html#5806" class="Bound">h</a> <a id="5870" href="Solutions5-dan.html#5855" class="Bound">x</a> <a id="5872" href="Solutions5-dan.html#5818" class="Bound">a</a><a id="5873" class="Symbol">)</a> <a id="5875" href="Lecture4-notes.html#769" data-type="base ≡ base" class="Postulate">loop</a> <a id="5880" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="5882" href="Lecture5-notes.html#10246" data-type="f ≡ g → f ∼ g" class="Function">app≡</a> <a id="5887" href="Solutions5-dan.html#5806" class="Bound">h</a> <a id="5889" href="Solutions5-dan.html#5818" class="Bound">a</a>
<a id="5891" href="Solutions5-dan.html#5762" data-type="ap (λ x → S1-rec f h x a) loop ≡ app≡ h a" class="Function">S1-rec-loop-1</a> <a id="5905" class="Symbol">{</a><a id="5906" class="Argument">f</a> <a id="5908" class="Symbol">=</a> <a id="5910" href="Solutions5-dan.html#5910" class="Bound">f</a><a id="5911" class="Symbol">}{</a><a id="5913" href="Solutions5-dan.html#5913" class="Bound">h</a><a id="5914" class="Symbol">}{</a><a id="5916" href="Solutions5-dan.html#5916" class="Bound">a</a><a id="5917" class="Symbol">}</a> <a id="5919" class="Symbol">=</a> <a id="5921" class="Symbol">(</a><a id="5922" href="Solutions5-dan.html#4809" data-type="(f : A → B) (g : B → C) (p : a ≡ a&#39;) → ap (g ∘ f) p ≡ ap g (ap f p)" class="Function">ap-∘</a> <a id="5927" class="Symbol">(</a><a id="5928" href="Lecture4-notes.html#5544" data-type="(x : X) → x ≡ x → S1 → X" class="Postulate">S1-rec</a> <a id="5935" href="Solutions5-dan.html#5910" class="Bound">f</a> <a id="5937" href="Solutions5-dan.html#5913" class="Bound">h</a><a id="5938" class="Symbol">)</a> <a id="5940" class="Symbol">(\</a> <a id="5943" href="Solutions5-dan.html#5943" class="Bound">z</a> <a id="5945" class="Symbol">→</a> <a id="5947" href="Solutions5-dan.html#5943" class="Bound">z</a> <a id="5949" href="Solutions5-dan.html#5916" class="Bound">a</a><a id="5950" class="Symbol">)</a> <a id="5952" href="Lecture4-notes.html#769" data-type="base ≡ base" class="Postulate">loop</a><a id="5956" class="Symbol">)</a> <a id="5958" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="5960" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="5963" class="Symbol">(</a><a id="5964" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="5967" class="Symbol">(\</a> <a id="5970" href="Solutions5-dan.html#5970" class="Bound">z</a> <a id="5972" class="Symbol">→</a> <a id="5974" href="Solutions5-dan.html#5970" class="Bound">z</a> <a id="5976" href="Solutions5-dan.html#5916" class="Bound">a</a><a id="5977" class="Symbol">))</a> <a id="5980" class="Symbol">(</a><a id="5981" href="Lecture4-notes.html#6311" data-type="(x : X) (p : x ≡ x) → ap (S1-rec x p) loop ≡ p" class="Postulate">S1-rec-loop</a> <a id="5993" class="Symbol">_</a> <a id="5995" class="Symbol">_)</a>
</pre>
<p>Prove this reduction using ap-∘ and the reduction rule for S1-rec on
the loop.</p>
<p>(⋆⋆⋆) Show that base is a right unit for multiplication. You will
need a slightly different path-over lemma than before.</p>
<pre class="Agda"><a id="PathOver-endo≡"></a><a id="6215" href="Solutions5-dan.html#6215" data-type="(! q ∙ (ap f p ∙ r)) ≡ p → PathOver (λ x → f x ≡ x) p q r" class="Function">PathOver-endo≡</a> <a id="6230" class="Symbol">:</a> <a id="6232" class="Symbol">∀</a> <a id="6234" class="Symbol">{</a><a id="6235" href="Solutions5-dan.html#6235" class="Bound">A</a> <a id="6237" class="Symbol">:</a> <a id="6239" href="Agda.Primitive.html#326" data-type="Set₁" class="Primitive">Type</a><a id="6243" class="Symbol">}</a> <a id="6245" class="Symbol">{</a><a id="6246" href="Solutions5-dan.html#6246" class="Bound">f</a> <a id="6248" class="Symbol">:</a> <a id="6250" href="Solutions5-dan.html#6235" class="Bound">A</a> <a id="6252" class="Symbol">→</a> <a id="6254" href="Solutions5-dan.html#6235" class="Bound">A</a><a id="6255" class="Symbol">}</a>
                 <a id="6274" class="Symbol">{</a><a id="6275" href="Solutions5-dan.html#6275" class="Bound">a</a> <a id="6277" href="Solutions5-dan.html#6277" class="Bound">a&#39;</a> <a id="6280" class="Symbol">:</a> <a id="6282" href="Solutions5-dan.html#6235" class="Bound">A</a><a id="6283" class="Symbol">}</a> <a id="6285" class="Symbol">{</a><a id="6286" href="Solutions5-dan.html#6286" class="Bound">p</a> <a id="6288" class="Symbol">:</a> <a id="6290" href="Solutions5-dan.html#6275" class="Bound">a</a> <a id="6292" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="6294" href="Solutions5-dan.html#6277" class="Bound">a&#39;</a><a id="6296" class="Symbol">}</a>
                 <a id="6315" class="Symbol">{</a><a id="6316" href="Solutions5-dan.html#6316" class="Bound">q</a> <a id="6318" class="Symbol">:</a> <a id="6320" class="Symbol">(</a><a id="6321" href="Solutions5-dan.html#6246" class="Bound">f</a> <a id="6323" href="Solutions5-dan.html#6275" class="Bound">a</a><a id="6324" class="Symbol">)</a> <a id="6326" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="6328" href="Solutions5-dan.html#6275" class="Bound">a</a><a id="6329" class="Symbol">}</a>
                 <a id="6348" class="Symbol">{</a><a id="6349" href="Solutions5-dan.html#6349" class="Bound">r</a> <a id="6351" class="Symbol">:</a> <a id="6353" class="Symbol">(</a><a id="6354" href="Solutions5-dan.html#6246" class="Bound">f</a> <a id="6356" href="Solutions5-dan.html#6277" class="Bound">a&#39;</a><a id="6358" class="Symbol">)</a> <a id="6360" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="6362" href="Solutions5-dan.html#6277" class="Bound">a&#39;</a><a id="6364" class="Symbol">}</a>
               <a id="6381" class="Symbol">→</a> <a id="6383" href="new-prelude.html#861" data-type="x ≡ y → y ≡ x" class="Function">!</a> <a id="6385" href="Solutions5-dan.html#6316" class="Bound">q</a> <a id="6387" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="6389" class="Symbol">((</a><a id="6391" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="6394" href="Solutions5-dan.html#6246" class="Bound">f</a> <a id="6396" href="Solutions5-dan.html#6286" class="Bound">p</a><a id="6397" class="Symbol">)</a> <a id="6399" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="6401" href="Solutions5-dan.html#6349" class="Bound">r</a><a id="6402" class="Symbol">)</a> <a id="6404" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="6406" href="Solutions5-dan.html#6286" class="Bound">p</a>
               <a id="6423" class="Symbol">→</a> <a id="6425" href="Solutions5-dan.html#6316" class="Bound">q</a> <a id="6427" href="Lecture5-notes.html#3169" data-type="(B : A → Set l2) → a1 ≡ a2 → B a1 → B a2 → Set (l1 ⊔ l2)" class="Datatype">≡</a> <a id="6429" href="Solutions5-dan.html#6349" class="Bound">r</a> <a id="6431" href="Lecture5-notes.html#3169" data-type="(B : A → Set l2) → a1 ≡ a2 → B a1 → B a2 → Set (l1 ⊔ l2)" class="Datatype">[</a> <a id="6433" class="Symbol">(\</a> <a id="6436" href="Solutions5-dan.html#6436" class="Bound">x</a> <a id="6438" class="Symbol">→</a> <a id="6440" href="Solutions5-dan.html#6246" class="Bound">f</a> <a id="6442" href="Solutions5-dan.html#6436" class="Bound">x</a> <a id="6444" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="6446" href="Solutions5-dan.html#6436" class="Bound">x</a><a id="6447" class="Symbol">)</a> <a id="6449" href="Lecture5-notes.html#3169" data-type="(B : A → Set l2) → a1 ≡ a2 → B a1 → B a2 → Set (l1 ⊔ l2)" class="Datatype">↓</a> <a id="6451" href="Solutions5-dan.html#6286" class="Bound">p</a> <a id="6453" href="Lecture5-notes.html#3169" data-type="(B : A → Set l2) → a1 ≡ a2 → B a1 → B a2 → Set (l1 ⊔ l2)" class="Datatype">]</a>
<a id="6455" href="Solutions5-dan.html#6215" data-type="(! q ∙ (ap f p ∙ r)) ≡ p → PathOver (λ x → f x ≡ x) p q r" class="Function">PathOver-endo≡</a> <a id="6470" class="Symbol">{</a><a id="6471" class="Argument">p</a> <a id="6473" class="Symbol">=</a> <a id="6475" class="Symbol">(</a><a id="6476" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="6481" class="Symbol">_)}</a> <a id="6485" class="Symbol">{</a><a id="6486" class="Argument">q</a> <a id="6488" class="Symbol">=</a> <a id="6490" href="Solutions5-dan.html#6490" class="Bound">q</a><a id="6491" class="Symbol">}</a> <a id="6493" class="Symbol">{</a><a id="6494" href="Solutions5-dan.html#6494" class="Bound">r</a><a id="6495" class="Symbol">}</a> <a id="6497" href="Solutions5-dan.html#6497" class="Bound">h</a> <a id="6499" class="Symbol">=</a>
  <a id="6503" href="Lecture5-notes.html#4578" data-type="x ≡ y → PathOver B (refl a) x y" class="Function">path-to-pathover</a> <a id="6520" class="Symbol">(</a><a id="6521" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="6524" class="Symbol">(\</a> <a id="6527" href="Solutions5-dan.html#6527" class="Bound">H</a> <a id="6529" class="Symbol">→</a> <a id="6531" href="Solutions5-dan.html#6490" class="Bound">q</a> <a id="6533" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="6535" href="Solutions5-dan.html#6527" class="Bound">H</a><a id="6536" class="Symbol">)</a> <a id="6538" class="Symbol">(</a><a id="6539" href="new-prelude.html#861" data-type="x ≡ y → y ≡ x" class="Function">!</a> <a id="6541" href="Solutions5-dan.html#6497" class="Bound">h</a><a id="6542" class="Symbol">)</a> <a id="6544" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a>
                       <a id="6569" class="Symbol">(</a> <a id="6571" href="Lecture4-notes.html#2836" data-type="(p : x ≡ y) (q : y ≡ z) (r : z ≡ w) → (p ∙ (q ∙ r)) ≡ ((p ∙ q) ∙ r)" class="Function">∙assoc</a> <a id="6578" class="Symbol">_</a> <a id="6580" class="Symbol">_</a> <a id="6582" class="Symbol">(</a><a id="6583" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="6588" class="Symbol">_</a> <a id="6590" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="6592" href="Solutions5-dan.html#6494" class="Bound">r</a><a id="6593" class="Symbol">)</a> <a id="6595" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a>
                        <a id="6621" class="Symbol">(</a><a id="6622" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="6625" class="Symbol">(\</a> <a id="6628" href="Solutions5-dan.html#6628" class="Bound">H</a> <a id="6630" class="Symbol">→</a> <a id="6632" href="Solutions5-dan.html#6628" class="Bound">H</a> <a id="6634" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="6636" class="Symbol">(</a><a id="6637" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="6642" class="Symbol">_</a> <a id="6644" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="6646" href="Solutions5-dan.html#6494" class="Bound">r</a><a id="6647" class="Symbol">))</a> <a id="6650" class="Symbol">(</a><a id="6651" href="Lecture4-notes.html#3074" data-type="(p : x ≡ y) → (p ∙ ! p) ≡ refl x" class="Function">!-inv-r</a> <a id="6659" href="Solutions5-dan.html#6490" class="Bound">q</a><a id="6660" class="Symbol">)</a> <a id="6662" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a>
                         <a id="6689" class="Symbol">(</a><a id="6690" href="Lecture4-notes.html#2745" data-type="(p : x ≡ y) → (refl x ∙ p) ≡ p" class="Function">∙unit-l</a> <a id="6698" class="Symbol">(</a><a id="6699" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="6704" class="Symbol">_</a> <a id="6706" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="6708" href="Solutions5-dan.html#6494" class="Bound">r</a><a id="6709" class="Symbol">)</a> <a id="6711" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a>  <a id="6714" href="Lecture4-notes.html#2745" data-type="(p : x ≡ y) → (refl x ∙ p) ≡ p" class="Function">∙unit-l</a> <a id="6722" href="Solutions5-dan.html#6494" class="Bound">r</a> <a id="6724" class="Symbol">))</a> <a id="6727" class="Symbol">))</a>

<a id="mult-unit-r"></a><a id="6731" href="Solutions5-dan.html#6731" data-type="(x : S1) → mult x base ≡ x" class="Function">mult-unit-r</a> <a id="6743" class="Symbol">:</a> <a id="6745" class="Symbol">(</a><a id="6746" href="Solutions5-dan.html#6746" class="Bound">x</a> <a id="6748" class="Symbol">:</a> <a id="6750" href="Lecture4-notes.html#745" data-type="Set" class="Postulate">S1</a><a id="6752" class="Symbol">)</a> <a id="6754" class="Symbol">→</a> <a id="6756" href="Lecture5-notes.html#9766" data-type="S1 → S1 → S1" class="Function">mult</a> <a id="6761" href="Solutions5-dan.html#6746" class="Bound">x</a> <a id="6763" href="Lecture4-notes.html#757" data-type="S1" class="Postulate">base</a> <a id="6768" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="6770" href="Solutions5-dan.html#6746" class="Bound">x</a>
<a id="6772" href="Solutions5-dan.html#6731" data-type="(x : S1) → mult x base ≡ x" class="Function">mult-unit-r</a> <a id="6784" class="Symbol">=</a> <a id="6786" href="Lecture5-notes.html#8624" data-type="(X : S1 → Set) (x : X base) →
PathOver X loop x x → (x₁ : S1) → X x₁" class="Postulate">S1-elim</a> <a id="6794" class="Symbol">_</a>
                      <a id="6818" class="Symbol">(</a><a id="6819" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="6824" class="Symbol">_)</a>
                      <a id="6849" class="Symbol">(</a><a id="6850" href="Solutions5-dan.html#6215" data-type="(! q ∙ (ap f p ∙ r)) ≡ p → PathOver (λ x → f x ≡ x) p q r" class="Function">PathOver-endo≡</a>
                        <a id="6889" class="Symbol">((</a><a id="6891" href="Lecture4-notes.html#2745" data-type="(p : x ≡ y) → (refl x ∙ p) ≡ p" class="Function">∙unit-l</a> <a id="6899" class="Symbol">_)</a> <a id="6902" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="6904" class="Symbol">(</a><a id="6905" href="Solutions5-dan.html#5762" data-type="ap (λ x → S1-rec f h x a) loop ≡ app≡ h a" class="Function">S1-rec-loop-1</a> <a id="6919" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="6921" class="Symbol">(</a> <a id="6923" href="Lecture5-notes.html#10553" data-type="(h : f ∼ g) → app≡ (λ≡ h) ∼ h" class="Function">λ≡β</a> <a id="6927" class="Symbol">_</a> <a id="6929" class="Symbol">_))</a> <a id="6933" class="Symbol">))</a>
</pre>
<h1 id="suspensions-and-the-2-point-circle">Suspensions and the 2-point
circle</h1>
(⋆) Postulate the computation rules for the non-dependent susp-rec and
declare rewrites for the point reduction rules on the point
constructors.<br />
<pre class="Agda"><a id="7134" class="Keyword">postulate</a>
  <a id="Susp-rec-north"></a><a id="7146" href="Solutions5-dan.html#7146" data-type="(n s : X) (m : A → n ≡ s) → Susp-rec n s m northS ≡ n" class="Postulate">Susp-rec-north</a> <a id="7161" class="Symbol">:</a> <a id="7163" class="Symbol">{</a><a id="7164" href="Solutions5-dan.html#7164" class="Bound">l</a> <a id="7166" class="Symbol">:</a> <a id="7168" href="Agda.Primitive.html#597" data-type="Set" class="Postulate">Level</a><a id="7173" class="Symbol">}</a> <a id="7175" class="Symbol">{</a><a id="7176" href="Solutions5-dan.html#7176" class="Bound">A</a> <a id="7178" class="Symbol">:</a> <a id="7180" href="Agda.Primitive.html#326" data-type="Set₁" class="Primitive">Type</a><a id="7184" class="Symbol">}</a> <a id="7186" class="Symbol">{</a><a id="7187" href="Solutions5-dan.html#7187" class="Bound">X</a> <a id="7189" class="Symbol">:</a> <a id="7191" href="Agda.Primitive.html#326" data-type="Set₁" class="Primitive">Type</a> <a id="7196" href="Solutions5-dan.html#7164" class="Bound">l</a><a id="7197" class="Symbol">}</a>
                 <a id="7216" class="Symbol">(</a><a id="7217" href="Solutions5-dan.html#7217" class="Bound">n</a> <a id="7219" class="Symbol">:</a> <a id="7221" href="Solutions5-dan.html#7187" class="Bound">X</a><a id="7222" class="Symbol">)</a> <a id="7224" class="Symbol">(</a><a id="7225" href="Solutions5-dan.html#7225" class="Bound">s</a> <a id="7227" class="Symbol">:</a> <a id="7229" href="Solutions5-dan.html#7187" class="Bound">X</a><a id="7230" class="Symbol">)</a> <a id="7232" class="Symbol">(</a><a id="7233" href="Solutions5-dan.html#7233" class="Bound">m</a> <a id="7235" class="Symbol">:</a> <a id="7237" href="Solutions5-dan.html#7176" class="Bound">A</a> <a id="7239" class="Symbol">→</a> <a id="7241" href="Solutions5-dan.html#7217" class="Bound">n</a> <a id="7243" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="7245" href="Solutions5-dan.html#7225" class="Bound">s</a><a id="7246" class="Symbol">)</a>
                 <a id="7265" class="Symbol">→</a> <a id="7267" href="Lecture4-notes.html#11753" data-type="(n s : X) → (A → n ≡ s) → Susp A → X" class="Postulate">Susp-rec</a> <a id="7276" href="Solutions5-dan.html#7217" class="Bound">n</a> <a id="7278" href="Solutions5-dan.html#7225" class="Bound">s</a> <a id="7280" href="Solutions5-dan.html#7233" class="Bound">m</a> <a id="7282" href="Lecture4-notes.html#11636" data-type="Susp A" class="Postulate">northS</a> <a id="7289" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="7291" href="Solutions5-dan.html#7217" class="Bound">n</a>
  <a id="Susp-rec-south"></a><a id="7295" href="Solutions5-dan.html#7295" data-type="(n s : X) (m : A → n ≡ s) → Susp-rec n s m southS ≡ s" class="Postulate">Susp-rec-south</a> <a id="7310" class="Symbol">:</a> <a id="7312" class="Symbol">{</a><a id="7313" href="Solutions5-dan.html#7313" class="Bound">l</a> <a id="7315" class="Symbol">:</a> <a id="7317" href="Agda.Primitive.html#597" data-type="Set" class="Postulate">Level</a><a id="7322" class="Symbol">}</a> <a id="7324" class="Symbol">{</a><a id="7325" href="Solutions5-dan.html#7325" class="Bound">A</a> <a id="7327" class="Symbol">:</a> <a id="7329" href="Agda.Primitive.html#326" data-type="Set₁" class="Primitive">Type</a><a id="7333" class="Symbol">}</a> <a id="7335" class="Symbol">{</a><a id="7336" href="Solutions5-dan.html#7336" class="Bound">X</a> <a id="7338" class="Symbol">:</a> <a id="7340" href="Agda.Primitive.html#326" data-type="Set₁" class="Primitive">Type</a> <a id="7345" href="Solutions5-dan.html#7313" class="Bound">l</a><a id="7346" class="Symbol">}</a>
                   <a id="7367" class="Symbol">(</a><a id="7368" href="Solutions5-dan.html#7368" class="Bound">n</a> <a id="7370" class="Symbol">:</a> <a id="7372" href="Solutions5-dan.html#7336" class="Bound">X</a><a id="7373" class="Symbol">)</a> <a id="7375" class="Symbol">(</a><a id="7376" href="Solutions5-dan.html#7376" class="Bound">s</a> <a id="7378" class="Symbol">:</a> <a id="7380" href="Solutions5-dan.html#7336" class="Bound">X</a><a id="7381" class="Symbol">)</a> <a id="7383" class="Symbol">(</a><a id="7384" href="Solutions5-dan.html#7384" class="Bound">m</a> <a id="7386" class="Symbol">:</a> <a id="7388" href="Solutions5-dan.html#7325" class="Bound">A</a> <a id="7390" class="Symbol">→</a> <a id="7392" href="Solutions5-dan.html#7368" class="Bound">n</a> <a id="7394" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="7396" href="Solutions5-dan.html#7376" class="Bound">s</a><a id="7397" class="Symbol">)</a>
                   <a id="7418" class="Symbol">→</a> <a id="7420" href="Lecture4-notes.html#11753" data-type="(n s : X) → (A → n ≡ s) → Susp A → X" class="Postulate">Susp-rec</a> <a id="7429" href="Solutions5-dan.html#7368" class="Bound">n</a> <a id="7431" href="Solutions5-dan.html#7376" class="Bound">s</a> <a id="7433" href="Solutions5-dan.html#7384" class="Bound">m</a> <a id="7435" href="Lecture4-notes.html#11667" data-type="Susp A" class="Postulate">southS</a> <a id="7442" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="7444" href="Solutions5-dan.html#7376" class="Bound">s</a>
<a id="7446" class="Symbol">{-#</a> <a id="7450" class="Keyword">REWRITE</a> <a id="7458" href="Solutions5-dan.html#7146" data-type="(n s : X) (m : A → n ≡ s) → Susp-rec n s m northS ≡ n" class="Postulate">Susp-rec-north</a> <a id="7473" class="Symbol">#-}</a>
<a id="7477" class="Symbol">{-#</a> <a id="7481" class="Keyword">REWRITE</a> <a id="7489" href="Solutions5-dan.html#7295" data-type="(n s : X) (m : A → n ≡ s) → Susp-rec n s m southS ≡ s" class="Postulate">Susp-rec-south</a> <a id="7504" class="Symbol">#-}</a>
<a id="7508" class="Keyword">postulate</a>
  <a id="Susp-rec-merid"></a><a id="7520" href="Solutions5-dan.html#7520" data-type="(n s : X) (m : A → n ≡ s) (x : A) →
ap (Susp-rec n s m) (merid x) ≡ m x" class="Postulate">Susp-rec-merid</a> <a id="7535" class="Symbol">:</a> <a id="7537" class="Symbol">{</a><a id="7538" href="Solutions5-dan.html#7538" class="Bound">l</a> <a id="7540" class="Symbol">:</a> <a id="7542" href="Agda.Primitive.html#597" data-type="Set" class="Postulate">Level</a><a id="7547" class="Symbol">}</a> <a id="7549" class="Symbol">{</a><a id="7550" href="Solutions5-dan.html#7550" class="Bound">A</a> <a id="7552" class="Symbol">:</a> <a id="7554" href="Agda.Primitive.html#326" data-type="Set₁" class="Primitive">Type</a><a id="7558" class="Symbol">}</a> <a id="7560" class="Symbol">{</a><a id="7561" href="Solutions5-dan.html#7561" class="Bound">X</a> <a id="7563" class="Symbol">:</a> <a id="7565" href="Agda.Primitive.html#326" data-type="Set₁" class="Primitive">Type</a> <a id="7570" href="Solutions5-dan.html#7538" class="Bound">l</a><a id="7571" class="Symbol">}</a>
                   <a id="7592" class="Symbol">(</a><a id="7593" href="Solutions5-dan.html#7593" class="Bound">n</a> <a id="7595" class="Symbol">:</a> <a id="7597" href="Solutions5-dan.html#7561" class="Bound">X</a><a id="7598" class="Symbol">)</a> <a id="7600" class="Symbol">(</a><a id="7601" href="Solutions5-dan.html#7601" class="Bound">s</a> <a id="7603" class="Symbol">:</a> <a id="7605" href="Solutions5-dan.html#7561" class="Bound">X</a><a id="7606" class="Symbol">)</a> <a id="7608" class="Symbol">(</a><a id="7609" href="Solutions5-dan.html#7609" class="Bound">m</a> <a id="7611" class="Symbol">:</a> <a id="7613" href="Solutions5-dan.html#7550" class="Bound">A</a> <a id="7615" class="Symbol">→</a> <a id="7617" href="Solutions5-dan.html#7593" class="Bound">n</a> <a id="7619" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="7621" href="Solutions5-dan.html#7601" class="Bound">s</a><a id="7622" class="Symbol">)</a>
                 <a id="7641" class="Symbol">→</a> <a id="7643" class="Symbol">(</a><a id="7644" href="Solutions5-dan.html#7644" class="Bound">x</a> <a id="7646" class="Symbol">:</a> <a id="7648" href="Solutions5-dan.html#7550" class="Bound">A</a><a id="7649" class="Symbol">)</a> <a id="7651" class="Symbol">→</a> <a id="7653" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="7656" class="Symbol">(</a><a id="7657" href="Lecture4-notes.html#11753" data-type="(n s : X) → (A → n ≡ s) → Susp A → X" class="Postulate">Susp-rec</a> <a id="7666" href="Solutions5-dan.html#7593" class="Bound">n</a> <a id="7668" href="Solutions5-dan.html#7601" class="Bound">s</a> <a id="7670" href="Solutions5-dan.html#7609" class="Bound">m</a><a id="7671" class="Symbol">)</a> <a id="7673" class="Symbol">(</a><a id="7674" href="Lecture4-notes.html#11698" data-type="A → Path (Susp A) northS southS" class="Postulate">merid</a> <a id="7680" href="Solutions5-dan.html#7644" class="Bound">x</a><a id="7681" class="Symbol">)</a> <a id="7683" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="7685" href="Solutions5-dan.html#7609" class="Bound">m</a> <a id="7687" href="Solutions5-dan.html#7644" class="Bound">x</a>
</pre>
<p>(⋆) Postulate the dependent elimination rule for suspensions:</p>
<pre class="Agda"><a id="7765" class="Keyword">postulate</a> 
  <a id="Susp-elim"></a><a id="7778" href="Solutions5-dan.html#7778" data-type="(P : Susp A → Set) (n : P northS) (s : P southS) →
((x : A) → PathOver P (merid x) n s) → (x : Susp A) → P x" class="Postulate">Susp-elim</a> <a id="7788" class="Symbol">:</a> <a id="7790" class="Symbol">{</a><a id="7791" href="Solutions5-dan.html#7791" class="Bound">A</a> <a id="7793" class="Symbol">:</a> <a id="7795" href="Agda.Primitive.html#326" data-type="Set₁" class="Primitive">Type</a><a id="7799" class="Symbol">}</a> <a id="7801" class="Symbol">(</a><a id="7802" href="Solutions5-dan.html#7802" class="Bound">P</a> <a id="7804" class="Symbol">:</a> <a id="7806" href="Lecture4-notes.html#11615" data-type="Set → Set" class="Postulate">Susp</a> <a id="7811" href="Solutions5-dan.html#7791" class="Bound">A</a> <a id="7813" class="Symbol">→</a> <a id="7815" href="Agda.Primitive.html#326" data-type="Set₁" class="Primitive">Type</a><a id="7819" class="Symbol">)</a>
            <a id="7833" class="Symbol">→</a> <a id="7835" class="Symbol">(</a><a id="7836" href="Solutions5-dan.html#7836" class="Bound">n</a> <a id="7838" class="Symbol">:</a> <a id="7840" href="Solutions5-dan.html#7802" class="Bound">P</a> <a id="7842" href="Lecture4-notes.html#11636" data-type="Susp A" class="Postulate">northS</a><a id="7848" class="Symbol">)</a>
            <a id="7862" class="Symbol">→</a> <a id="7864" class="Symbol">(</a><a id="7865" href="Solutions5-dan.html#7865" class="Bound">s</a> <a id="7867" class="Symbol">:</a> <a id="7869" href="Solutions5-dan.html#7802" class="Bound">P</a> <a id="7871" href="Lecture4-notes.html#11667" data-type="Susp A" class="Postulate">southS</a><a id="7877" class="Symbol">)</a>
            <a id="7891" class="Symbol">→</a> <a id="7893" class="Symbol">(</a><a id="7894" href="Solutions5-dan.html#7894" class="Bound">m</a> <a id="7896" class="Symbol">:</a> <a id="7898" class="Symbol">(</a><a id="7899" href="Solutions5-dan.html#7899" class="Bound">x</a> <a id="7901" class="Symbol">:</a> <a id="7903" href="Solutions5-dan.html#7791" class="Bound">A</a><a id="7904" class="Symbol">)</a> <a id="7906" class="Symbol">→</a> <a id="7908" href="Solutions5-dan.html#7836" class="Bound">n</a> <a id="7910" href="Lecture5-notes.html#3169" data-type="(B : A → Set l2) → a1 ≡ a2 → B a1 → B a2 → Set (l1 ⊔ l2)" class="Datatype">≡</a> <a id="7912" href="Solutions5-dan.html#7865" class="Bound">s</a> <a id="7914" href="Lecture5-notes.html#3169" data-type="(B : A → Set l2) → a1 ≡ a2 → B a1 → B a2 → Set (l1 ⊔ l2)" class="Datatype">[</a> <a id="7916" href="Solutions5-dan.html#7802" class="Bound">P</a> <a id="7918" href="Lecture5-notes.html#3169" data-type="(B : A → Set l2) → a1 ≡ a2 → B a1 → B a2 → Set (l1 ⊔ l2)" class="Datatype">↓</a> <a id="7920" href="Lecture4-notes.html#11698" data-type="A → Path (Susp A) northS southS" class="Postulate">merid</a> <a id="7926" href="Solutions5-dan.html#7899" class="Bound">x</a> <a id="7928" href="Lecture5-notes.html#3169" data-type="(B : A → Set l2) → a1 ≡ a2 → B a1 → B a2 → Set (l1 ⊔ l2)" class="Datatype">]</a><a id="7929" class="Symbol">)</a>
            <a id="7943" class="Symbol">→</a> <a id="7945" class="Symbol">(</a><a id="7946" href="Solutions5-dan.html#7946" class="Bound">x</a> <a id="7948" class="Symbol">:</a> <a id="7950" href="Lecture4-notes.html#11615" data-type="Set → Set" class="Postulate">Susp</a> <a id="7955" href="Solutions5-dan.html#7791" class="Bound">A</a><a id="7956" class="Symbol">)</a> <a id="7958" class="Symbol">→</a> <a id="7960" href="Solutions5-dan.html#7802" class="Bound">P</a> <a id="7962" href="Solutions5-dan.html#7946" class="Bound">x</a>
</pre>
<p>(⋆⋆) Show that the maps s2c and c2s from the Lecture 4 exercises are
mutually inverse:</p>
<pre class="Agda"><a id="c2s2c"></a><a id="8065" href="Solutions5-dan.html#8065" data-type="(x : Circle2) → s2c (c2s x) ≡ x" class="Function">c2s2c</a> <a id="8071" class="Symbol">:</a> <a id="8073" class="Symbol">(</a><a id="8074" href="Solutions5-dan.html#8074" class="Bound">x</a> <a id="8076" class="Symbol">:</a> <a id="8078" href="Lecture4-notes.html#7873" data-type="Set" class="Postulate">Circle2</a><a id="8085" class="Symbol">)</a> <a id="8087" class="Symbol">→</a> <a id="8089" href="Solutions4.html#5005" data-type="Susp Bool → Circle2" class="Function">s2c</a> <a id="8093" class="Symbol">(</a><a id="8094" href="Solutions4.html#4919" data-type="Circle2 → Susp Bool" class="Function">c2s</a> <a id="8098" href="Solutions5-dan.html#8074" class="Bound">x</a><a id="8099" class="Symbol">)</a> <a id="8101" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="8103" href="Solutions5-dan.html#8074" class="Bound">x</a>
<a id="8105" href="Solutions5-dan.html#8065" data-type="(x : Circle2) → s2c (c2s x) ≡ x" class="Function">c2s2c</a> <a id="8111" class="Symbol">=</a> <a id="8113" href="Lecture5-notes.html#5381" data-type="(X : Circle2 → Set) (n : X north) (s : X south) →
PathOver X west n s → PathOver X east n s → (x : Circle2) → X x" class="Postulate">Circle2-elim</a> <a id="8126" class="Symbol">_</a> <a id="8128" class="Symbol">(</a><a id="8129" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="8134" class="Symbol">_)</a> <a id="8137" class="Symbol">(</a><a id="8138" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="8143" class="Symbol">_)</a>
                    <a id="8166" class="Symbol">(</a><a id="8167" href="Lecture5-notes.html#7675" data-type="(g : B → A) (f : A → B) (p : a ≡ a&#39;) →
(! q ∙ (ap g (ap f p) ∙ r)) ≡ p →
PathOver (λ x → g (f x) ≡ x) p q r" class="Function">PathOver-roundtrip≡</a> <a id="8187" href="Solutions4.html#5005" data-type="Susp Bool → Circle2" class="Function">s2c</a> <a id="8191" href="Solutions4.html#4919" data-type="Circle2 → Susp Bool" class="Function">c2s</a> <a id="8195" class="Symbol">_</a>
                     <a id="8218" class="Symbol">(</a><a id="8219" href="Lecture4-notes.html#2745" data-type="(p : x ≡ y) → (refl x ∙ p) ≡ p" class="Function">∙unit-l</a> <a id="8227" class="Symbol">_</a> <a id="8229" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="8231" class="Symbol">(</a><a id="8232" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="8235" class="Symbol">(</a><a id="8236" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="8239" href="Solutions4.html#5005" data-type="Susp Bool → Circle2" class="Function">s2c</a><a id="8242" class="Symbol">)</a> <a id="8244" class="Symbol">(</a><a id="8245" href="Lecture4-notes.html#8400" data-type="(n s : X) (w e : n ≡ s) → ap (Circle2-rec n s w e) west ≡ w" class="Postulate">Circle2-rec-west</a> <a id="8262" class="Symbol">_</a> <a id="8264" class="Symbol">_</a> <a id="8266" class="Symbol">_</a> <a id="8268" class="Symbol">_)</a> <a id="8271" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="8273" href="Solutions5-dan.html#7520" data-type="(n s : X) (m : A → n ≡ s) (x : A) →
ap (Susp-rec n s m) (merid x) ≡ m x" class="Postulate">Susp-rec-merid</a> <a id="8288" class="Symbol">_</a> <a id="8290" class="Symbol">_</a> <a id="8292" class="Symbol">_</a> <a id="8294" class="Symbol">_)))</a>
                    <a id="8319" class="Symbol">(</a><a id="8320" href="Lecture5-notes.html#7675" data-type="(g : B → A) (f : A → B) (p : a ≡ a&#39;) →
(! q ∙ (ap g (ap f p) ∙ r)) ≡ p →
PathOver (λ x → g (f x) ≡ x) p q r" class="Function">PathOver-roundtrip≡</a> <a id="8340" href="Solutions4.html#5005" data-type="Susp Bool → Circle2" class="Function">s2c</a> <a id="8344" href="Solutions4.html#4919" data-type="Circle2 → Susp Bool" class="Function">c2s</a> <a id="8348" class="Symbol">_</a>
                     <a id="8371" class="Symbol">(</a><a id="8372" href="Lecture4-notes.html#2745" data-type="(p : x ≡ y) → (refl x ∙ p) ≡ p" class="Function">∙unit-l</a> <a id="8380" class="Symbol">_</a> <a id="8382" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="8384" class="Symbol">(</a><a id="8385" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="8388" class="Symbol">(</a><a id="8389" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="8392" href="Solutions4.html#5005" data-type="Susp Bool → Circle2" class="Function">s2c</a><a id="8395" class="Symbol">)</a> <a id="8397" class="Symbol">(</a><a id="8398" href="Lecture4-notes.html#8527" data-type="(n s : X) (w e : n ≡ s) → ap (Circle2-rec n s w e) east ≡ e" class="Postulate">Circle2-rec-east</a> <a id="8415" class="Symbol">_</a> <a id="8417" class="Symbol">_</a> <a id="8419" class="Symbol">_</a> <a id="8421" class="Symbol">_)</a> <a id="8424" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="8426" href="Solutions5-dan.html#7520" data-type="(n s : X) (m : A → n ≡ s) (x : A) →
ap (Susp-rec n s m) (merid x) ≡ m x" class="Postulate">Susp-rec-merid</a> <a id="8441" class="Symbol">_</a> <a id="8443" class="Symbol">_</a> <a id="8445" class="Symbol">_</a> <a id="8447" class="Symbol">_)))</a>

<a id="s2c2s"></a><a id="8453" href="Solutions5-dan.html#8453" data-type="(x : Susp Bool) → c2s (s2c x) ≡ x" class="Function">s2c2s</a> <a id="8459" class="Symbol">:</a> <a id="8461" class="Symbol">(</a><a id="8462" href="Solutions5-dan.html#8462" class="Bound">x</a> <a id="8464" class="Symbol">:</a> <a id="8466" href="Lecture4-notes.html#11615" data-type="Set → Set" class="Postulate">Susp</a> <a id="8471" href="new-prelude.html#3253" data-type="Set" class="Function">Bool</a><a id="8475" class="Symbol">)</a> <a id="8477" class="Symbol">→</a> <a id="8479" href="Solutions4.html#4919" data-type="Circle2 → Susp Bool" class="Function">c2s</a> <a id="8483" class="Symbol">(</a><a id="8484" href="Solutions4.html#5005" data-type="Susp Bool → Circle2" class="Function">s2c</a> <a id="8488" href="Solutions5-dan.html#8462" class="Bound">x</a><a id="8489" class="Symbol">)</a> <a id="8491" href="new-prelude.html#449" data-type="A → A → Set l" class="Datatype Operator">≡</a> <a id="8493" href="Solutions5-dan.html#8462" class="Bound">x</a>
<a id="8495" href="Solutions5-dan.html#8453" data-type="(x : Susp Bool) → c2s (s2c x) ≡ x" class="Function">s2c2s</a> <a id="8501" class="Symbol">=</a> <a id="8503" href="Solutions5-dan.html#7778" data-type="(P : Susp A → Set) (n : P northS) (s : P southS) →
((x : A) → PathOver P (merid x) n s) → (x : Susp A) → P x" class="Postulate">Susp-elim</a> <a id="8513" class="Symbol">_</a> <a id="8515" class="Symbol">(</a><a id="8516" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="8521" class="Symbol">_)</a> <a id="8524" class="Symbol">(</a><a id="8525" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="8530" class="Symbol">_)</a> <a id="8533" class="Symbol">\</a> <a id="8535" class="Symbol">{</a> <a id="8537" href="new-prelude.html#3233" data-type="BoolL" class="InductiveConstructor">true</a> <a id="8542" class="Symbol">→</a> <a id="8544" href="Lecture5-notes.html#7675" data-type="(g : B → A) (f : A → B) (p : a ≡ a&#39;) →
(! q ∙ (ap g (ap f p) ∙ r)) ≡ p →
PathOver (λ x → g (f x) ≡ x) p q r" class="Function">PathOver-roundtrip≡</a> <a id="8564" href="Solutions4.html#4919" data-type="Circle2 → Susp Bool" class="Function">c2s</a> <a id="8568" href="Solutions4.html#5005" data-type="Susp Bool → Circle2" class="Function">s2c</a> <a id="8572" class="Symbol">_</a>
                                                 <a id="8623" class="Symbol">(</a><a id="8624" href="Lecture4-notes.html#2745" data-type="(p : x ≡ y) → (refl x ∙ p) ≡ p" class="Function">∙unit-l</a> <a id="8632" class="Symbol">_</a> <a id="8634" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a>
                                                  <a id="8686" class="Symbol">(</a><a id="8687" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="8690" class="Symbol">(</a><a id="8691" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="8694" href="Solutions4.html#4919" data-type="Circle2 → Susp Bool" class="Function">c2s</a><a id="8697" class="Symbol">)</a> <a id="8699" class="Symbol">(</a><a id="8700" href="Solutions5-dan.html#7520" data-type="(n s : X) (m : A → n ≡ s) (x : A) →
ap (Susp-rec n s m) (merid x) ≡ m x" class="Postulate">Susp-rec-merid</a> <a id="8715" class="Symbol">_</a> <a id="8717" class="Symbol">_</a> <a id="8719" class="Symbol">_</a> <a id="8721" class="Symbol">_)</a>
                                                  <a id="8774" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="8776" href="Lecture4-notes.html#8400" data-type="(n s : X) (w e : n ≡ s) → ap (Circle2-rec n s w e) west ≡ w" class="Postulate">Circle2-rec-west</a> <a id="8793" class="Symbol">_</a> <a id="8795" class="Symbol">_</a> <a id="8797" class="Symbol">_</a> <a id="8799" class="Symbol">_))</a> <a id="8803" class="Symbol">;</a>
                                          <a id="8847" href="new-prelude.html#3238" data-type="BoolL" class="InductiveConstructor">false</a> <a id="8853" class="Symbol">→</a> <a id="8855" href="Lecture5-notes.html#7675" data-type="(g : B → A) (f : A → B) (p : a ≡ a&#39;) →
(! q ∙ (ap g (ap f p) ∙ r)) ≡ p →
PathOver (λ x → g (f x) ≡ x) p q r" class="Function">PathOver-roundtrip≡</a> <a id="8875" href="Solutions4.html#4919" data-type="Circle2 → Susp Bool" class="Function">c2s</a> <a id="8879" href="Solutions4.html#5005" data-type="Susp Bool → Circle2" class="Function">s2c</a> <a id="8883" class="Symbol">_</a>
                                                  <a id="8935" class="Symbol">(</a><a id="8936" href="Lecture4-notes.html#2745" data-type="(p : x ≡ y) → (refl x ∙ p) ≡ p" class="Function">∙unit-l</a> <a id="8944" class="Symbol">_</a> <a id="8946" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a>
                                                  <a id="8998" class="Symbol">(</a><a id="8999" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="9002" class="Symbol">(</a><a id="9003" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="9006" href="Solutions4.html#4919" data-type="Circle2 → Susp Bool" class="Function">c2s</a><a id="9009" class="Symbol">)</a> <a id="9011" class="Symbol">(</a><a id="9012" href="Solutions5-dan.html#7520" data-type="(n s : X) (m : A → n ≡ s) (x : A) →
ap (Susp-rec n s m) (merid x) ≡ m x" class="Postulate">Susp-rec-merid</a> <a id="9027" class="Symbol">_</a> <a id="9029" class="Symbol">_</a> <a id="9031" class="Symbol">_</a> <a id="9033" class="Symbol">_)</a>
                                                  <a id="9086" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="9088" href="Lecture4-notes.html#8527" data-type="(n s : X) (w e : n ≡ s) → ap (Circle2-rec n s w e) east ≡ e" class="Postulate">Circle2-rec-east</a> <a id="9105" class="Symbol">_</a> <a id="9107" class="Symbol">_</a> <a id="9109" class="Symbol">_</a> <a id="9111" class="Symbol">_))}</a>
</pre>
<p>(⋆) Conclude that Circle2 is equivalent to Susp Bool:</p>
<pre class="Agda"><a id="Circle2-Susp-Bool"></a><a id="9184" href="Solutions5-dan.html#9184" data-type="Circle2 ≃ Susp Bool" class="Function">Circle2-Susp-Bool</a> <a id="9202" class="Symbol">:</a> <a id="9204" href="Lecture4-notes.html#7873" data-type="Set" class="Postulate">Circle2</a> <a id="9212" href="Lecture5-notes.html#968" data-type="(A : Set l1) (B : Set l2) → Set (l1 ⊔ l2)" class="Record Operator">≃</a> <a id="9214" href="Lecture4-notes.html#11615" data-type="Set → Set" class="Postulate">Susp</a> <a id="9219" href="new-prelude.html#3253" data-type="Set" class="Function">Bool</a>
<a id="9224" href="Solutions5-dan.html#9184" data-type="Circle2 ≃ Susp Bool" class="Function">Circle2-Susp-Bool</a> <a id="9242" class="Symbol">=</a> <a id="9244" href="Lecture5-notes.html#1565" data-type="A ≅ B → A ≃ B" class="Function">improve</a> <a id="9252" class="Symbol">(</a><a id="9253" href="new-prelude.html#2950" data-type="(bijection : A → B) (bijectivity : is-bijection bijection) → A ≅ B" class="InductiveConstructor">Isomorphism</a> <a id="9265" href="Solutions4.html#4919" data-type="Circle2 → Susp Bool" class="Function">c2s</a> <a id="9269" class="Symbol">(</a><a id="9270" href="new-prelude.html#2765" data-type="(inverse : B → A) (η : (inverse ∘ f) ∼ id)
(ε : (f ∘ inverse) ∼ id) →
is-bijection f" class="InductiveConstructor">Inverse</a> <a id="9278" href="Solutions4.html#5005" data-type="Susp Bool → Circle2" class="Function">s2c</a> <a id="9282" href="Solutions5-dan.html#8065" data-type="(x : Circle2) → s2c (c2s x) ≡ x" class="Function">c2s2c</a> <a id="9288" href="Solutions5-dan.html#8453" data-type="(x : Susp Bool) → c2s (s2c x) ≡ x" class="Function">s2c2s</a><a id="9293" class="Symbol">))</a> 
</pre>
<h1 id="functoriality-of-suspension">Functoriality of suspension
(⋆⋆)</h1>
In the Lecture 4 exercises, we defined functoriality for the suspension
type, which given a function X → Y gives a function Σ X → Σ Y. Show that
this operation is functorial, meaning that it preserves identity and
composition of functions:
<pre class="Agda"><a id="susp-func-id"></a><a id="9587" href="Solutions5-dan.html#9587" data-type="susp-func id ∼ id" class="Function">susp-func-id</a> <a id="9600" class="Symbol">:</a> <a id="9602" class="Symbol">∀</a> <a id="9604" class="Symbol">{</a><a id="9605" href="Solutions5-dan.html#9605" class="Bound">X</a> <a id="9607" class="Symbol">:</a> <a id="9609" href="Agda.Primitive.html#326" data-type="Set₁" class="Primitive">Type</a><a id="9613" class="Symbol">}</a> <a id="9615" class="Symbol">→</a> <a id="9617" href="Solutions4.html#5241" data-type="(X → Y) → Susp X → Susp Y" class="Function">susp-func</a> <a id="9627" class="Symbol">{</a><a id="9628" href="Solutions5-dan.html#9605" class="Bound">X</a><a id="9629" class="Symbol">}</a> <a id="9631" href="new-prelude.html#2011" data-type="A → A" class="Function">id</a> <a id="9634" href="new-prelude.html#1372" data-type="((x : A) → B x) → ((x : A) → B x) → Set (l1 ⊔ l2)" class="Function Operator">∼</a> <a id="9636" href="new-prelude.html#2011" data-type="A → A" class="Function">id</a>
<a id="9639" href="Solutions5-dan.html#9587" data-type="susp-func id ∼ id" class="Function">susp-func-id</a> <a id="9652" class="Symbol">=</a> <a id="9654" href="Solutions5-dan.html#7778" data-type="(P : Susp A → Set) (n : P northS) (s : P southS) →
((x : A) → PathOver P (merid x) n s) → (x : Susp A) → P x" class="Postulate">Susp-elim</a> <a id="9664" class="Symbol">_</a> <a id="9666" class="Symbol">(</a><a id="9667" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="9672" class="Symbol">_)</a>
                           <a id="9702" class="Symbol">(</a><a id="9703" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="9708" class="Symbol">_)</a>
                           <a id="9738" class="Symbol">(\</a><a id="9740" href="Solutions5-dan.html#9740" class="Bound">x</a> <a id="9742" class="Symbol">→</a> <a id="9744" href="Solutions5-dan.html#6215" data-type="(! q ∙ (ap f p ∙ r)) ≡ p → PathOver (λ x → f x ≡ x) p q r" class="Function">PathOver-endo≡</a> <a id="9759" class="Symbol">(</a><a id="9760" href="Lecture4-notes.html#2745" data-type="(p : x ≡ y) → (refl x ∙ p) ≡ p" class="Function">∙unit-l</a> <a id="9768" class="Symbol">_</a> <a id="9770" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="9772" class="Symbol">(</a><a id="9773" href="Solutions5-dan.html#7520" data-type="(n s : X) (m : A → n ≡ s) (x : A) →
ap (Susp-rec n s m) (merid x) ≡ m x" class="Postulate">Susp-rec-merid</a> <a id="9788" class="Symbol">_</a> <a id="9790" class="Symbol">_</a> <a id="9792" class="Symbol">_</a> <a id="9794" class="Symbol">_))</a> <a id="9798" class="Symbol">)</a>

<a id="susp-func-∘"></a><a id="9801" href="Solutions5-dan.html#9801" data-type="(f : X → Y) (g : Y → Z) →
susp-func (g ∘ f) ∼ (susp-func g ∘ susp-func f)" class="Function">susp-func-∘</a> <a id="9813" class="Symbol">:</a> <a id="9815" class="Symbol">∀</a> <a id="9817" class="Symbol">{</a><a id="9818" href="Solutions5-dan.html#9818" class="Bound">X</a> <a id="9820" href="Solutions5-dan.html#9820" class="Bound">Y</a> <a id="9822" href="Solutions5-dan.html#9822" class="Bound">Z</a> <a id="9824" class="Symbol">:</a> <a id="9826" href="Agda.Primitive.html#326" data-type="Set₁" class="Primitive">Type</a><a id="9830" class="Symbol">}</a> <a id="9832" class="Symbol">(</a><a id="9833" href="Solutions5-dan.html#9833" class="Bound">f</a> <a id="9835" class="Symbol">:</a> <a id="9837" href="Solutions5-dan.html#9818" class="Bound">X</a> <a id="9839" class="Symbol">→</a> <a id="9841" href="Solutions5-dan.html#9820" class="Bound">Y</a><a id="9842" class="Symbol">)</a> <a id="9844" class="Symbol">(</a><a id="9845" href="Solutions5-dan.html#9845" class="Bound">g</a> <a id="9847" class="Symbol">:</a> <a id="9849" href="Solutions5-dan.html#9820" class="Bound">Y</a> <a id="9851" class="Symbol">→</a> <a id="9853" href="Solutions5-dan.html#9822" class="Bound">Z</a><a id="9854" class="Symbol">)</a>
            <a id="9868" class="Symbol">→</a> <a id="9870" href="Solutions4.html#5241" data-type="(X → Y) → Susp X → Susp Y" class="Function">susp-func</a> <a id="9880" class="Symbol">{</a><a id="9881" href="Solutions5-dan.html#9818" class="Bound">X</a><a id="9882" class="Symbol">}</a> <a id="9884" class="Symbol">(</a><a id="9885" href="Solutions5-dan.html#9845" class="Bound">g</a> <a id="9887" href="new-prelude.html#2059" data-type="((y : B) → C y) → (f : A → B) (x : A) → C (f x)" class="Function Operator">∘</a> <a id="9889" href="Solutions5-dan.html#9833" class="Bound">f</a><a id="9890" class="Symbol">)</a> <a id="9892" href="new-prelude.html#1372" data-type="((x : A) → B x) → ((x : A) → B x) → Set (l1 ⊔ l2)" class="Function Operator">∼</a> <a id="9894" href="Solutions4.html#5241" data-type="(X → Y) → Susp X → Susp Y" class="Function">susp-func</a> <a id="9904" href="Solutions5-dan.html#9845" class="Bound">g</a> <a id="9906" href="new-prelude.html#2059" data-type="((y : B) → C y) → (f : A → B) (x : A) → C (f x)" class="Function Operator">∘</a> <a id="9908" href="Solutions4.html#5241" data-type="(X → Y) → Susp X → Susp Y" class="Function">susp-func</a> <a id="9918" href="Solutions5-dan.html#9833" class="Bound">f</a>
<a id="9920" href="Solutions5-dan.html#9801" data-type="(f : X → Y) (g : Y → Z) →
susp-func (g ∘ f) ∼ (susp-func g ∘ susp-func f)" class="Function">susp-func-∘</a> <a id="9932" href="Solutions5-dan.html#9932" class="Bound">f</a> <a id="9934" href="Solutions5-dan.html#9934" class="Bound">g</a> <a id="9936" class="Symbol">=</a> <a id="9938" href="Solutions5-dan.html#7778" data-type="(P : Susp A → Set) (n : P northS) (s : P southS) →
((x : A) → PathOver P (merid x) n s) → (x : Susp A) → P x" class="Postulate">Susp-elim</a> <a id="9948" class="Symbol">_</a>
                            <a id="9978" class="Symbol">(</a><a id="9979" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="9984" class="Symbol">_)</a>
                            <a id="10015" class="Symbol">(</a><a id="10016" href="new-prelude.html#502" data-type="(x : A) → x ≡ x" class="InductiveConstructor">refl</a> <a id="10021" class="Symbol">_)</a>
                            <a id="10052" class="Symbol">(\</a><a id="10054" href="Solutions5-dan.html#10054" class="Bound">x</a> <a id="10056" class="Symbol">→</a> <a id="10058" href="Solutions5-dan.html#3088" data-type="(q ∙ ap g p) ≡ (ap f p ∙ r) → PathOver (λ x → f x ≡ g x) p q r" class="Function">PathOver-path≡</a> <a id="10073" class="Symbol">(</a><a id="10074" href="Lecture4-notes.html#2745" data-type="(p : x ≡ y) → (refl x ∙ p) ≡ p" class="Function">∙unit-l</a> <a id="10082" class="Symbol">_</a> <a id="10084" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a>
                                                 <a id="10135" href="Solutions5-dan.html#4809" data-type="(f : A → B) (g : B → C) (p : a ≡ a&#39;) → ap (g ∘ f) p ≡ ap g (ap f p)" class="Function">ap-∘</a> <a id="10140" class="Symbol">(</a><a id="10141" href="Solutions4.html#5241" data-type="(X → Y) → Susp X → Susp Y" class="Function">susp-func</a> <a id="10151" href="Solutions5-dan.html#9932" class="Bound">f</a><a id="10152" class="Symbol">)</a>  <a id="10155" class="Symbol">(</a><a id="10156" href="Solutions4.html#5241" data-type="(X → Y) → Susp X → Susp Y" class="Function">susp-func</a> <a id="10166" href="Solutions5-dan.html#9934" class="Bound">g</a><a id="10167" class="Symbol">)</a> <a id="10169" class="Symbol">_</a> <a id="10171" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a>
                                                 <a id="10222" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="10225" class="Symbol">(</a><a id="10226" href="new-prelude.html#937" data-type="(f : A → B) → x ≡ y → f x ≡ f y" class="Function">ap</a> <a id="10229" class="Symbol">(</a><a id="10230" href="Solutions4.html#5241" data-type="(X → Y) → Susp X → Susp Y" class="Function">susp-func</a> <a id="10240" href="Solutions5-dan.html#9934" class="Bound">g</a><a id="10241" class="Symbol">))</a> <a id="10244" class="Symbol">(</a><a id="10245" href="Solutions5-dan.html#7520" data-type="(n s : X) (m : A → n ≡ s) (x : A) →
ap (Susp-rec n s m) (merid x) ≡ m x" class="Postulate">Susp-rec-merid</a> <a id="10260" class="Symbol">_</a> <a id="10262" class="Symbol">_</a> <a id="10264" class="Symbol">_</a> <a id="10266" class="Symbol">_)</a> <a id="10269" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a>
                                                 <a id="10320" href="Solutions5-dan.html#7520" data-type="(n s : X) (m : A → n ≡ s) (x : A) →
ap (Susp-rec n s m) (merid x) ≡ m x" class="Postulate">Susp-rec-merid</a> <a id="10335" class="Symbol">_</a> <a id="10337" class="Symbol">_</a> <a id="10339" class="Symbol">_</a> <a id="10341" class="Symbol">_</a> <a id="10343" href="new-prelude.html#642" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a>
                                                 <a id="10394" href="new-prelude.html#861" data-type="x ≡ y → y ≡ x" class="Function">!</a> <a id="10396" class="Symbol">(</a><a id="10397" href="Solutions5-dan.html#7520" data-type="(n s : X) (m : A → n ≡ s) (x : A) →
ap (Susp-rec n s m) (merid x) ≡ m x" class="Postulate">Susp-rec-merid</a> <a id="10412" class="Symbol">_</a> <a id="10414" class="Symbol">_</a> <a id="10416" class="Symbol">_</a> <a id="10418" class="Symbol">_)))</a>
</pre>

  </article>
</div>
</main>
</body>
<style>

:root {
  --text-bg: #fff;
  --text-fg: #222;
  --shadow: #000;
  --primary: #0054F4;
  --secondary: #9C1BD6;
  --modal-bg: #ccccccaa;
  --warning-bg: #fef08a;
  --code-bg: var(--text-bg);
  --code-fg: var(--text-fg);
  --code-keyword: #BB3B13;
  --code-string:  #d52753;
  --code-number:  #8A1060;
  --code-module:  #8A1060;
  --code-field:   #9C1BD6;
  --code-constructor: #207B1D;
  --code-highlight: #F5DEB3;
  --search-selected: #e2e8f0;
  --details-summary: #b2ebf2;
  --details-open:    #80deea;
  --depgraph-edge: #eee;
  --blockquote-bg: #d8b4fe; }

.diagram-dark {
  display: none !important; }

@media (prefers-color-scheme: dark) {
  :root {
    --text-bg: #282C34;
    --text-fg: #bfbfbf;
    --shadow: #475569;
    --primary: #61AFEF;
    --secondary: #C878DD;
    --modal-bg: #282C34aa;
    --warning-bg: #991b1b;
    --code-keyword:     #E5C07B;
    --code-string:      #E06C75;
    --code-number:      #98C379;
    --code-module:      #56B6C2;
    --code-field:       #C878DD;
    --code-constructor: #98C379;
    --code-highlight: #ef444499;
    --search-selected: #474e5e;
    --details-summary: #5b21b6;
    --details-open:    #4c1d95;
    --depgraph-edge: #474e5e;
    --blockquote-bg: #475569; }
  div.warning {
    --shadow: #7f1d1d
  ; }
  input {
    background-color: #334155;
    border: 1px solid #475569;
    color: var(--text-fg); }
  body {
    scrollbar-color: #3b4454 #2b2e33; }
  .diagram-dark {
    display: block !important; }
  .diagram-light {
    display: none !important; } }

table {
  margin: auto;
  border-collapse: collapse; }
  table td, table th {
    text-align: center;
    padding: 0px 1em 0px 1em;
    border: 1px solid black; }
  table th {
    border-bottom: 2px solid black; }
  table td {
    white-space: nowrap; }

html { max-width: 100%; }

body {
  font-family: "Inria Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  width: 100%;
  font-size: var(--font-size);
  overflow-x: clip;
  background-color: var(--text-bg);
  color: var(--text-fg);
}

div#post-toc-container { max-width: 120ch; margin: auto; }

article a[href], div#return > a[href], div#top > a[href], aside#toc > div#toc-container ul a[href] {
  color: var(--primary);
  text-decoration: none; }
  article a[href]:hover, div#return > a[href]:hover, div#top > a[href]:hover, aside#toc > div#toc-container ul a[href]:hover {
    text-decoration: 2px currentColor underline !important; }
  article a[href]:visited, div#return > a[href]:visited, div#top > a[href]:visited, aside#toc > div#toc-container ul a[href]:visited {
    color: var(--secondary); }

/* Aspects. */
.Agda {
  /* NameKinds. */
  /* OtherAspects. */
  /* Standard attributes. */
  font-family: 'iosevka', 'Iosevka', 'Fantasque Sans Mono', 'Roboto Mono', monospace;
  font-weight: 400; }
  .Agda .Comment {
    color: var(--code-fg);
    font-style: italic; }
  .Agda .Background {
    background-color: var(--code-bg); }
  .Agda .Markup {
    color: var(--code-fg); }
  .Agda .Keyword {
    color: var(--code-keyword); }
  .Agda .String {
    color: var(--code-string); }
  .Agda .Number {
    color: var(--code-number); }
  .Agda .Symbol {
    color: var(--code-fg); }
  .Agda .PrimitiveType {
    color: var(--primary); }
  .Agda .Pragma {
    color: var(--code-fg); }
  .Agda .Bound {
    color: var(--code-fg) !important; }
  .Agda .Generalizable {
    color: var(--code-fg) !important; }
  .Agda .InductiveConstructor {
    color: var(--code-constructor) !important; }
  .Agda .CoinductiveConstructor {
    color: var(--code-constructor) !important; }
  .Agda .Datatype {
    color: var(--primary) !important; }
  .Agda .Field {
    color: var(--code-field) !important; }
  .Agda .Function {
    color: var(--primary) !important; }
  .Agda .Module {
    color: var(--code-module) !important; }
  .Agda .Postulate {
    color: var(--primary) !important; }
  .Agda .Primitive {
    color: var(--primary) !important; }
  .Agda .Record {
    color: var(--primary) !important; }
  .Agda .UnsolvedMeta {
    color: var(--code-fg);
    background: yellow; }
  .Agda .UnsolvedConstraint {
    color: var(--code-fg);
    background: yellow; }
  .Agda .TerminationProblem {
    color: var(--code-fg);
    background: #FFA07A; }
  .Agda .IncompletePattern {
    color: var(--code-fg);
    background: #F5DEB3; }
  .Agda .Error {
    color: red;
    text-decoration: underline; }
  .Agda .TypeChecks {
    color: var(--code-fg);
    background: #ADD8E6; }
  .Agda .ShadowingInTelescope {
    color: var(--code-fg);
    background: #808080; }
  .Agda .Deadcode {
    color: var(--code-keyword);
    font-weight: bold; }
  .Agda a {
    text-decoration: none; }
  .Agda a[href]:hover {
    text-decoration: 2px var(--primary) underline; }
  .Agda a[href]:target {
    animation: highlight 2.5s; }
  body.text-page .Agda {
    font-size: var(--code-font-size); }

pre.Agda, div.sourceCode, pre {
  border-radius: 0;
  box-shadow: none;
  overflow-y: clip;
  margin: 0;
  padding: 1em;
  padding-top: 0.25em;
  padding-bottom: 0.25em;
  background-color: var(--code-bg);
  color: var(--code-fg);
  font-size: var(--code-font-size);
  max-width: 100%;
  overflow-x: auto;
}
</style>
</html>
